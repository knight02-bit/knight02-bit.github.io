
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">
      
      
        <link rel="next" href="../../../%E5%8F%8B%E9%93%BE/">
      
      
      <link rel="icon" href="../../../niyan.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>TRenderer - æ³¥çƒŸ</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/custom.css">
    
      <link rel="stylesheet" href="../../../assets/css/simpleLightbox.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#trenderer" class="md-skip">
          è·³è½¬è‡³
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰">
    <a href="../../.." title="æ³¥çƒŸ" class="md-header__button md-logo" aria-label="æ³¥çƒŸ" data-md-component="logo">
      
  <img src="../../../battery-half.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            æ³¥çƒŸ
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TRenderer
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="æœç´¢" placeholder="æœç´¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="æŸ¥æ‰¾">
        
        <button type="reset" class="md-search__icon md-icon" title="æ¸…ç©ºå½“å‰å†…å®¹" aria-label="æ¸…ç©ºå½“å‰å†…å®¹" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="æ ‡ç­¾" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  >>>

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  åšæ–‡

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%8F%8B%E9%93%BE/" class="md-tabs__link">
          
  
    
  
  å‹é“¾

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%A2%A8/%E6%95%99%E5%91%98/" class="md-tabs__link">
          
  
    
  
  å¢¨

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E6%97%A5%E5%BF%97/" class="md-tabs__link">
          
  
    
  
  æ—¥å¿—

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="md-tabs__link">
          
  
    
  
  è¯»ä¹¦ç¬”è®°

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E9%98%85%E8%AF%BB%E5%88%97%E8%A1%A8/" class="md-tabs__link">
          
  
    
  
  é˜…è¯»åˆ—è¡¨

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="å¯¼èˆªæ " data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="æ³¥çƒŸ" class="md-nav__button md-logo" aria-label="æ³¥çƒŸ" data-md-component="logo">
      
  <img src="../../../battery-half.svg" alt="logo">

    </a>
    æ³¥çƒŸ
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    >>>
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    åšæ–‡
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            åšæ–‡
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../GAMES101/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    GAMES101
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            GAMES101
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GAMES101/GAMES101%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95%20wsl%2Bubuntu22.04%2Bvscode%2BVcXsrv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GAMES101ç¯å¢ƒé…ç½®è®°å½• wsl+ubuntu22.04+vscode+VcXsrv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GAMES101/%5BGames101%E7%AC%94%E8%AE%B0%5DLecture1-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Games101ç¬”è®°]Lecture1 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GAMES101/%5BGames101%E7%AC%94%E8%AE%B0%5DLecture3-4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Games101ç¬”è®°]Lecture3 4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GAMES101/%5BGames101%E7%AC%94%E8%AE%B0%5DLecture6%E6%8A%97%E9%94%AF%E9%BD%BF%E4%B8%8E%E4%B8%80%E7%82%B9%E7%82%B9%E6%B7%B1%E5%BA%A6%E7%BC%93%E5%AD%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Games101ç¬”è®°]Lecture6æŠ—é”¯é½¿ä¸ä¸€ç‚¹ç‚¹æ·±åº¦ç¼“å­˜
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GAMES101/%5BGames101%E7%AC%94%E8%AE%B0%5DLecture7~9%20%E5%88%9D%E5%AD%A6shading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Games101ç¬”è®°]Lecture7~9 åˆå­¦shading
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GAMES104
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            GAMES104
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GAMES104/%5BGames104%E7%AC%94%E8%AE%B0%5D%20%E6%B8%B8%E6%88%8F%E4%B8%AD%E7%9A%84%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF%2C%E5%90%8E%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Games104ç¬”è®°] æ¸¸æˆä¸­çš„æ¸²æŸ“ç®¡çº¿,åå¤„ç†
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GAMES104/%5BGames104%E7%AC%94%E8%AE%B0%5D3.21%20%E5%9F%BA%E7%A1%80%E6%9E%B6%E6%9E%841%20%5B%E5%BC%95%E6%93%8E%E6%9E%B6%E6%9E%84%E5%88%86%E5%B1%82%EF%BC%8C%E6%95%B4%E4%BD%93Pipeline%5D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Games104ç¬”è®°]3.21 åŸºç¡€æ¶æ„1 [å¼•æ“æ¶æ„åˆ†å±‚ï¼Œæ•´ä½“Pipeline]
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GAMES104/%5BGames104%E7%AC%94%E8%AE%B0%5D3.28%20%E5%9F%BA%E7%A1%80%E6%9E%B6%E6%9E%842%20%E3%80%8E%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E5%92%8C%E7%AE%A1%E7%90%86%E3%80%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Games104ç¬”è®°]3.28 åŸºç¡€æ¶æ„2 ã€æ•°æ®ç»„ç»‡å’Œç®¡ç†ã€
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GAMES104/%5BGames104%E7%AC%94%E8%AE%B0%5D4.4%20%E6%B8%B2%E6%9F%93%E7%B3%BB%E7%BB%9F1%20%E3%80%8E%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E3%80%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Games104ç¬”è®°]4.4 æ¸²æŸ“ç³»ç»Ÿ1 ã€æ¸²æŸ“æ•°æ®ç»„ç»‡ã€
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unity
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Unity
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unity/%5BUnity%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%943.15%5Dquard%E7%9A%84trigger%E5%B1%9E%E6%80%A7%2CSmoothDamp%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Unityå­¦ä¹ éšç¬”3.15]quardçš„triggerå±æ€§,SmoothDampå‡½æ•°
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unity/%5BUnity%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%943.18%5D%20Vector3.Slerp%20%E7%90%83%E5%BD%A2%E6%8F%92%E5%80%BC%2C%20%E6%A4%AD%E5%9C%86%E6%98%A0%E5%B0%84%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Unityå­¦ä¹ éšç¬”3.18] Vector3.Slerp çƒå½¢æ’å€¼, æ¤­åœ†æ˜ å°„æ³•
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unity/%5BUnity%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%944.28%5D%20%E8%A7%A3%E5%86%B3trigger%E8%A7%A6%E5%8F%91%E7%B4%AF%E7%A7%AF%E7%9A%84%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Unityå­¦ä¹ éšç¬”4.28] è§£å†³triggerè§¦å‘ç´¯ç§¯çš„æ–¹æ³•
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unity/%5BUnity%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%944.29%5D%20%E5%9C%A8%E8%B7%B3%E8%B7%83%E5%89%8D%E5%90%8E%E6%B0%B4%E5%B9%B3%E6%96%B9%E5%90%91%E5%8F%82%E6%95%B0%E7%9A%84%E7%8A%B6%E6%80%81%E9%94%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Unityå­¦ä¹ éšç¬”4.29] åœ¨è·³è·ƒå‰åæ°´å¹³æ–¹å‘å‚æ•°çš„çŠ¶æ€é”
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Debug
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Debug
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/wsl2%20%E5%8F%82%E8%80%83%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E4%B8%8D%E6%94%AF%E6%8C%81%E5%B0%9D%E8%AF%95%E7%9A%84%E6%93%8D%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wsl2 å‚è€ƒçš„å¯¹è±¡ç±»å‹ä¸æ”¯æŒå°è¯•çš„æ“ä½œ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2" >
        
          
          <label class="md-nav__link" for="__nav_2_5_2" id="__nav_2_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_2">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/linux/%5Blinux%5D%20%E5%8D%B3%E4%BD%BF%E6%9C%89root%E6%9D%83%E9%99%90%2C%20%E4%BB%8D%E7%84%B6%E6%97%A0%E6%B3%95%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%20%5BE212%20cant%20open%20file%20for%20writing%5D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [linux] å³ä½¿æœ‰rootæƒé™, ä»ç„¶æ— æ³•ä¿®æ”¹æ–‡ä»¶ [E212 cant open file for writing]
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/linux/%5Blinux%E8%99%9A%E6%8B%9F%E6%9C%BA%5D%20%E4%BD%BF%E7%94%A8yum%E5%91%BD%E4%BB%A4%E6%97%B6%EF%BC%8C%E8%A7%A3%E6%9E%90%E4%B8%8D%E4%BA%86yum%E6%BA%90%EF%BC%8CCannot%20find%20a%20valid%20baseurl%20for%20repo%20base%207%20x86_6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [linuxè™šæ‹Ÿæœº] ä½¿ç”¨yumå‘½ä»¤æ—¶ï¼Œè§£æä¸äº†yumæºï¼ŒCannot find a valid baseurl for repo base 7 x86 6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/linux/%E7%94%B1%E4%BA%8E%E4%BD%BF%E7%94%A8%E6%A0%A1%E5%9B%AD%E7%BD%91%2Cubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%97%B6%E8%80%8C%E4%B8%8D%E8%83%BD%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9C%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ç”±äºä½¿ç”¨æ ¡å›­ç½‘,ubuntuè™šæ‹Ÿæœºæ—¶è€Œä¸èƒ½è¿æ¥ç½‘ç»œçš„è§£å†³æ–¹æ¡ˆ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Javascript
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Javascript
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../javascript/%5BJavaScript%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%5D%20%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [JavaScriptå­¦ä¹ è®°å½•] å¼‚æ­¥æ“ä½œ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../javascript/%5BJavaStript%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%5D%20%E5%AF%B9%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%9A%84%E4%B8%80%E4%BA%9B%E7%90%86%E8%A7%A3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [JavaStriptå­¦ä¹ è®°å½•] å¯¹åŸå‹é“¾çš„ä¸€äº›ç†è§£
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../javascript/%5B%E8%BD%AC%E8%BD%BD%5DJavaScript%20%E7%9A%84%20this%20%E5%8E%9F%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [è½¬è½½]JavaScript çš„ this åŸç†
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Maze
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Maze
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../maze/%5Bpython%E5%AE%9E%E7%8E%B0%5D%20%E9%80%92%E5%BD%92%E5%9B%9E%E6%BA%AF%28%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%29%E6%9E%84%E9%80%A0%E9%9A%8F%E6%9C%BA%E8%BF%B7%E5%AE%AB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [pythonå®ç°] é€’å½’å›æº¯(æ·±åº¦ä¼˜å…ˆ)æ„é€ éšæœºè¿·å®«
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/%5Bpython%E7%AC%94%E8%AE%B0%5D%20%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90iterable%2C%20iterator%2C%20generator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [pythonç¬”è®°] æ·±å…¥åˆ†æiterable, iterator, generator
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
        
          
          <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    äººå·¥æ™ºèƒ½
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            äººå·¥æ™ºèƒ½
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9_1" >
        
          
          <label class="md-nav__link" for="__nav_2_9_1" id="__nav_2_9_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    æœºå™¨å­¦ä¹ 
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9_1">
            <span class="md-nav__icon md-icon"></span>
            æœºå™¨å­¦ä¹ 
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E4%BD%BF%E7%94%A8%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0%E6%9E%84%E5%BB%BA%E7%BB%8F%E5%85%B8%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ä½¿ç”¨ç›‘ç£å­¦ä¹ æ„å»ºç»å…¸æœºå™¨å­¦ä¹ æ¨¡å‹
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%80%9F%E5%8A%A9%E4%B8%80%E4%B8%AA%E4%BE%8B%E5%AD%90%E7%AE%80%E8%A6%81%E4%BA%86%E8%A7%A3%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    å€ŸåŠ©ä¸€ä¸ªä¾‹å­ç®€è¦äº†è§£æœºå™¨å­¦ä¹ 
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10" >
        
          
          <label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    å·¥å…·
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            å·¥å…·
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/cmake/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cmake
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    å¸¸ç”¨å‘½ä»¤
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            å¸¸ç”¨å‘½ä»¤
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_12" >
        
          
          <label class="md-nav__link" for="__nav_2_12" id="__nav_2_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    æ•°æ®ç»“æ„ä¸ç®—æ³•
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_12">
            <span class="md-nav__icon md-icon"></span>
            æ•°æ®ç»“æ„ä¸ç®—æ³•
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/C%2B%2B%E5%AE%9E%E7%8E%B0Trie%20%E6%A0%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++å®ç°Trie æ ‘
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%5BAcWing%E7%AE%97%E6%B3%95%E6%8F%90%E9%AB%98%5D%20%E6%90%9C%E7%B4%A2%E4%B8%93%E9%A2%98%E7%BB%83%E4%B9%A0%28%E8%BF%9B%E8%A1%8C%E4%B8%AD......%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [AcWingç®—æ³•æé«˜] æœç´¢ä¸“é¢˜ç»ƒä¹ (è¿›è¡Œä¸­......)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%5BKMP%5D%20%E5%AF%B9%E6%9C%80%E9%95%BF%E5%89%8D%E5%90%8E%E7%BC%80%E5%8C%B9%E9%85%8D%E8%A1%A8%E7%94%9F%E6%88%90%E6%AD%A5%E9%AA%A4%E7%9A%84%E7%90%86%E8%A7%A3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [KMP] å¯¹æœ€é•¿å‰åç¼€åŒ¹é…è¡¨ç”Ÿæˆæ­¥éª¤çš„ç†è§£
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%AF%B9%E7%AD%9B%E8%B4%A8%E6%95%B0%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95%E7%9A%84%E7%90%86%E8%A7%A3%5B%E6%99%AE%E9%80%9A%E7%AD%9B%2C%E8%AF%B6%E6%B0%8F%E7%AD%9B%2C%E7%BA%BF%E6%80%A7%E7%AD%9B%5D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    å¯¹ç­›è´¨æ•°ä¸‰ç§æ–¹æ³•çš„ç†è§£[æ™®é€šç­›,è¯¶æ°ç­›,çº¿æ€§ç­›]
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_13" >
        
          
          <label class="md-nav__link" for="__nav_2_13" id="__nav_2_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ç¿»è¯‘
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_13">
            <span class="md-nav__icon md-icon"></span>
            ç¿»è¯‘
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%BF%BB%E8%AF%91/%E9%A5%AE%E6%B0%B4%E6%80%9D%E6%BA%90%E5%AD%A6%E4%B9%A0%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E6%8A%80%E6%9C%AF%E5%92%8C%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    é¥®æ°´æ€æºå­¦ä¹ è®¡ç®—æœºå›¾å½¢æŠ€æœ¯å’Œç¼–ç¨‹
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_14" >
        
          
          <label class="md-nav__link" for="__nav_2_14" id="__nav_2_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    è®¾è®¡æ¨¡å¼
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_14">
            <span class="md-nav__icon md-icon"></span>
            è®¾è®¡æ¨¡å¼
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    æ¸¸æˆè®¾è®¡æ¨¡å¼
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_15" checked>
        
          
          <label class="md-nav__link" for="__nav_2_15" id="__nav_2_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    é¡¹ç›®è®°å½•
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_15_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_15">
            <span class="md-nav__icon md-icon"></span>
            é¡¹ç›®è®°å½•
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    TRenderer
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    TRenderer
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="ç›®å½•">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      ç¯å¢ƒ(*:æš‚æœªä½¿ç”¨)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ç¯å¢ƒ(*:æš‚æœªä½¿ç”¨)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assimp" class="md-nav__link">
    <span class="md-ellipsis">
      è®°å½•:ç¼–è¯‘å®‰è£…assimpå¹¶æˆåŠŸé“¾æ¥
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      ä¸»è¦ç»“æ„ä½“/ç±»/ç®—æ³•
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ä¸»è¦ç»“æ„ä½“/ç±»/ç®—æ³•">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basicdatastruture" class="md-nav__link">
    <span class="md-ellipsis">
      BasicDataStruture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edgeequation" class="md-nav__link">
    <span class="md-ellipsis">
      EdgeEquation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EdgeEquation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      è®¡ç®—è¾¹ç¼˜æ–¹ç¨‹çš„å‚æ•°
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camera" class="md-nav__link">
    <span class="md-ellipsis">
      Camera
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shader" class="md-nav__link">
    <span class="md-ellipsis">
      Shader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blinnphongshader" class="md-nav__link">
    <span class="md-ellipsis">
      BlinnPhongShader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragmentshader" class="md-nav__link">
    <span class="md-ellipsis">
      FragmentShader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#framebuffer" class="md-nav__link">
    <span class="md-ellipsis">
      FrameBuffer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mesh" class="md-nav__link">
    <span class="md-ellipsis">
      Mesh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    <span class="md-ellipsis">
      Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#texture" class="md-nav__link">
    <span class="md-ellipsis">
      Texture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendererdevice" class="md-nav__link">
    <span class="md-ellipsis">
      TRendererDevice
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TRendererDevice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#half-space" class="md-nav__link">
    <span class="md-ellipsis">
      Half-Space ä¸‰è§’å½¢å…‰æ …åŒ–ç®—æ³•
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bresenham" class="md-nav__link">
    <span class="md-ellipsis">
      Bresenham ç”»çº¿ç®—æ³•
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cohen-sutherland-sutherland-hodgman" class="md-nav__link">
    <span class="md-ellipsis">
      Cohen-Sutherland &amp; Sutherland-Hodgman ç®—æ³•(é½æ¬¡ç©ºé—´è£å‰ª)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cohen-sutherland" class="md-nav__link">
    <span class="md-ellipsis">
      Cohen-Sutherlandç®—æ³•ï¼ˆçº¿æ®µè£å‰ªï¼‰
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sutherland-hodgman" class="md-nav__link">
    <span class="md-ellipsis">
      Sutherland-Hodgmanç®—æ³•ï¼ˆå¤šè¾¹å½¢è£å‰ªï¼‰
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      å°è¯•ä½¿ç”¨å¤šçº¿ç¨‹ä¼˜åŒ–
    </span>
  </a>
  
    <nav class="md-nav" aria-label="å°è¯•ä½¿ç”¨å¤šçº¿ç¨‹ä¼˜åŒ–">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      ä¸å¼€å¤šçº¿ç¨‹æ—¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tbb-openglmp-c11" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ†šå¯¹æ¯”:TBB, openglMP, c++11åŸç”Ÿå¤šçº¿ç¨‹
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ†šå¯¹æ¯”:TBB, openglMP, c++11åŸç”Ÿå¤šçº¿ç¨‹">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#onetbbqt" class="md-nav__link">
    <span class="md-ellipsis">
      oneTBB(å°šæœªè§£å†³ä¸QTå‘ç”Ÿçš„å†²çª)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c11-thread" class="md-nav__link">
    <span class="md-ellipsis">
      C++11 çš„threadåº“
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openmp" class="md-nav__link">
    <span class="md-ellipsis">
      OpenMP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      å›¾å½¢å­¦çŸ¥è¯†ç‚¹å›é¡¾
    </span>
  </a>
  
    <nav class="md-nav" aria-label="å›¾å½¢å­¦çŸ¥è¯†ç‚¹å›é¡¾">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      æ¸²æŸ“ç®¡çº¿
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cpp" class="md-nav__link">
    <span class="md-ellipsis">
      cpp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cpp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mesh-default" class="md-nav__link">
    <span class="md-ellipsis">
      Mesh() = default;æœ‰ä»€ä¹ˆä½œç”¨
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-tips" class="md-nav__link">
    <span class="md-ellipsis">
      some tips
    </span>
  </a>
  
    <nav class="md-nav" aria-label="some tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vector4d-vectori4d" class="md-nav__link">
    <span class="md-ellipsis">
      Vector4D å’Œ VectorI4D
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#w" class="md-nav__link">
    <span class="md-ellipsis">
      ç¼©æ”¾å› å­w
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitchyaw" class="md-nav__link">
    <span class="md-ellipsis">
      ä¿¯ä»°è§’ï¼ˆpitchï¼‰å’Œåèˆªè§’ï¼ˆyawï¼‰
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" class="md-nav__link">
    <span class="md-ellipsis">
      DEBUG(â›”:æœªè§£å†³ / ğŸŒˆ:å·²è§£å†³)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DEBUG(â›”:æœªè§£å†³ / ğŸŒˆ:å·²è§£å†³)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-cmakefilestrendererdevicecppobj-in-function-shadershader" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸŒˆ[error]: CMakeFiles/.../TRendererDevice.cpp.obj: in function `Shader::~Shader()':
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸŒˆ[error]: CMakeFiles/.../TRendererDevice.cpp.obj: in function `Shader::~Shader()':">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shader-trendererdevice" class="md-nav__link">
    <span class="md-ellipsis">
      é™„:Shader ç±»åœ¨ TRendererDevice ç±»ä¸­çš„ä½œç”¨
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      æ–‡æ¡£,åšå®¢
    </span>
  </a>
  
    <nav class="md-nav" aria-label="æ–‡æ¡£,åšå®¢">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qt" class="md-nav__link">
    <span class="md-ellipsis">
      Qt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opengl" class="md-nav__link">
    <span class="md-ellipsis">
      OpenGL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8F%8B%E9%93%BE/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    å‹é“¾
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            å‹é“¾
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    å¢¨
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            å¢¨
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A2%A8/%E6%95%99%E5%91%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    æ•™å‘˜
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E6%97%A5%E5%BF%97/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    æ—¥å¿—
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            æ—¥å¿—
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    è„šæœ¬å¤‡ä»½
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            è„šæœ¬å¤‡ä»½
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%97%A5%E5%BF%97/%E8%84%9A%E6%9C%AC%E5%A4%87%E4%BB%BD/mkdocs%E5%B7%A5%E4%BD%9C%E5%8F%8A%E5%A4%87%E4%BB%BD%E6%B5%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mkdocs å·¥ä½œåŠå¤‡ä»½æµ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    è¯»ä¹¦ç¬”è®°
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            è¯»ä¹¦ç¬”è®°
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9A%84%E7%AE%97%E6%B3%95%E4%B8%8E%E5%AE%9E%E7%8E%B0%E3%80%8B/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ã€Šåƒåœ¾å›æ”¶çš„ç®—æ³•ä¸å®ç°ã€‹
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            ã€Šåƒåœ¾å›æ”¶çš„ç®—æ³•ä¸å®ç°ã€‹
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9A%84%E7%AE%97%E6%B3%95%E4%B8%8E%E5%AE%9E%E7%8E%B0%E3%80%8B/%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    note
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%90%86%E8%AE%BA%E4%B8%8E%E6%96%B9%E6%B3%95%E3%80%8B/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ã€Šç¨‹åºæ€§èƒ½ä¼˜åŒ–ç†è®ºä¸æ–¹æ³•ã€‹
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            ã€Šç¨‹åºæ€§èƒ½ä¼˜åŒ–ç†è®ºä¸æ–¹æ³•ã€‹
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%90%86%E8%AE%BA%E4%B8%8E%E6%96%B9%E6%B3%95%E3%80%8B/%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%90%86%E8%AE%BA%E4%B8%8E%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ç¨‹åºæ€§èƒ½ä¼˜åŒ–ç†è®ºä¸æ–¹æ³•
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E7%AE%97%E6%B3%95%E7%B2%BE%E7%B2%B9%E3%80%8B/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ã€Šç®—æ³•ç²¾ç²¹ã€‹
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            ã€Šç®—æ³•ç²¾ç²¹ã€‹
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E7%AE%97%E6%B3%95%E7%B2%BE%E7%B2%B9%E3%80%8B/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97%E7%9A%84%E5%A4%9A%E7%A7%8D%E5%AE%9E%E7%8E%B0%E5%92%8C%E6%80%A7%E8%83%BD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å¤šç§å®ç°å’Œæ€§èƒ½
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E9%98%85%E8%AF%BB%E5%88%97%E8%A1%A8/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    é˜…è¯»åˆ—è¡¨
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            é˜…è¯»åˆ—è¡¨
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    FIFO ä¼˜äº LRUï¼šæƒ°æ€§æå‡å’Œå¿«é€Ÿé™çº§çš„å¨åŠ›
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            FIFO ä¼˜äº LRUï¼šæƒ°æ€§æå‡å’Œå¿«é€Ÿé™çº§çš„å¨åŠ›
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%98%85%E8%AF%BB%E5%88%97%E8%A1%A8/FIFO%20%E4%BC%98%E4%BA%8E%20LRU%EF%BC%9A%E6%83%B0%E6%80%A7%E6%8F%90%E5%8D%87%E5%92%8C%E5%BF%AB%E9%80%9F%E9%99%8D%E7%BA%A7%E7%9A%84%E5%A8%81%E5%8A%9B/%5B%E5%8E%9F%E6%96%87%5D%20FIFO%20%E4%BC%98%E4%BA%8E%20LRU%20%20-%20%E6%83%B0%E6%80%A7%E6%8F%90%E5%8D%87%E5%92%8C%E5%BF%AB%E9%80%9F%E9%99%8D%E7%BA%A7%E7%9A%84%E5%A8%81%E5%8A%9B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [åŸæ–‡] FIFO ä¼˜äº LRU    æƒ°æ€§æå‡å’Œå¿«é€Ÿé™çº§çš„å¨åŠ›
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%98%85%E8%AF%BB%E5%88%97%E8%A1%A8/FIFO%20%E4%BC%98%E4%BA%8E%20LRU%EF%BC%9A%E6%83%B0%E6%80%A7%E6%8F%90%E5%8D%87%E5%92%8C%E5%BF%AB%E9%80%9F%E9%99%8D%E7%BA%A7%E7%9A%84%E5%A8%81%E5%8A%9B/%E5%AF%B9QD-LP-FIFO%E7%9A%84%E7%90%86%E8%A7%A3%E5%92%8C%E7%AE%80%E6%98%93%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    å¯¹QD-LP-FIFOçš„ç†è§£å’Œç®€æ˜“ä»£ç å®ç°
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="trenderer">TRenderer</h1>
<p>[toc]</p>
<h2 id="_1">ç¯å¢ƒ(*:æš‚æœªä½¿ç”¨)</h2>
<ul>
<li>
<p>cmake 3.29.2</p>
</li>
<li>
<p>GNU 9.2.0</p>
</li>
<li>
<p>*ninja 1.11.1(ä½¿ç”¨å¹¶è¡Œä»»åŠ¡æ¥ç¼–è¯‘å·¥ç¨‹)</p>
</li>
<li>
<p>assimp-5.2.5</p>
</li>
<li>
<p>Qt Creator 5.14.2</p>
</li>
<li>
<p>glm</p>
</li>
<li>
<p>*tbb(å¹¶è¡Œç¼–ç¨‹åº“)</p>
</li>
</ul>
<p><img alt="image-20240424163840058" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041721734.png" tag="3" /></p>
<p><img alt="image-20240424163947632" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041722741.png" tag="3" /></p>
<h3 id="assimp">è®°å½•:ç¼–è¯‘å®‰è£…assimpå¹¶æˆåŠŸé“¾æ¥</h3>
<blockquote>
<p>å‚è€ƒèµ„æ–™: </p>
<ul>
<li>
<p><a href="https://assimp-docs.readthedocs.io/en/latest/about/quickstart.html#windows-dll-build">Data Structures â€” Asset-Importer-Lib March 2022 v5.2.3 documentation (assimp-docs.readthedocs.io)</a></p>
</li>
<li>
<p><a href="https://blog.csdn.net/cordwood/article/details/128659690">QT+Assimp+Cmake Windowså¹³å°ä½¿ç”¨CMakeæ„å»ºç¬¬ä¸‰æ–¹åŒ…ï¼Œæ­å»ºAssimpç¯å¢ƒ_qtcreatorä¸­ä½¿ç”¨assimpåº“</a></p>
</li>
</ul>
</blockquote>
<p>åœ¨æºç ç›®å½•ä¸‹</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># éœ€ä¿®æ”¹è·¯å¾„</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1"># cmake -G&quot;MinGW Makefiles&quot; -B build -DCMAKE_INSTALL_PREFIX=å®‰è£…è·¯å¾„  -DWITH_SOME_OPTIONS=ON</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>cmake<span class="w"> </span>-G<span class="s2">&quot;MinGW Makefiles&quot;</span><span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span>K:<span class="se">\c</span>ode<span class="se">\Q</span>TProject<span class="se">\T</span>Renderer<span class="se">\p</span>ackages<span class="se">\a</span>ssimp5.2.5<span class="w">  </span>-DWITH_SOME_OPTIONS<span class="o">=</span>ON
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># ä½¿ç”¨8ä¸ªæ ¸å¹¶è¡Œç¼–è¯‘</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>--parallel<span class="w"> </span><span class="m">8</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>--target<span class="w"> </span>install
</span></code></pre></div>
<p>ä½†æ˜¯è¿˜æ˜¯é“¾æ¥ä¸ä¸Š.dll åŠ¨æ€åº“, </p>
<p><img alt="image-20240423112532267" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041722765.png" tag="3" /></p>
<p>æ˜æ˜å·²ç»åœ¨CMakeList.txtä¸­é…ç½®äº†</p>
<div class="language-cmake highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">set</span><span class="p">(</span><span class="s">assimp_DIR</span><span class="w"> </span><span class="s">./packages/assimp5.2.5/lib/cmake/assimp-5.2</span><span class="p">)</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nb">find_package</span><span class="p">(</span><span class="s">assimp</span><span class="w"> </span><span class="s">CONFIG</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">TRenderer</span><span class="w"> </span><span class="s">PUBLIC</span><span class="w"> </span><span class="s">assimp::assimp</span><span class="p">)</span>
</span></code></pre></div>
<p>ç›¸åº”çš„æ–‡ä»¶ä¹Ÿæ˜¯åœ¨è¿™é‡Œ(<code>./packages/assimp5.2.5/lib/cmake/assimp-5.2</code>)çš„,å°±æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆé“¾æ¥ä¸ä¸Š...</p>
<p>å’¨è¯¢ç¾¤å‹è¿‡å, å‘ç°æŠŠåŠ¨æ€åº“libassimp-5.dllæ”¾åœ¨buildå¥½çš„ç›®å½•ä¸‹å³å¯è§£å†³(.exeæ‰€åœ¨ç›®å½•)</p>
<p><img alt="image-20240424164314406" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041722460.png" tag="3" /></p>
<h2 id="_2">ä¸»è¦ç»“æ„ä½“/ç±»/ç®—æ³•</h2>
<h3 id="basicdatastruture">BasicDataStruture</h3>
<p><img alt="image-20240424230010138" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041722904.png" tag="3" /></p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">using</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec3</span><span class="p">;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">using</span><span class="w"> </span><span class="n">Vector2D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec2</span><span class="p">;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="k">using</span><span class="w"> </span><span class="n">Vector3D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec3</span><span class="p">;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="k">using</span><span class="w"> </span><span class="n">VectorI3D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">ivec3</span><span class="p">;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="k">using</span><span class="w"> </span><span class="n">Vector4D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec4</span><span class="p">;</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="k">using</span><span class="w"> </span><span class="n">VectorI4D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">ivec4</span><span class="p">;</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="k">using</span><span class="w"> </span><span class="n">Coord2D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec2</span><span class="p">;</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="k">using</span><span class="w"> </span><span class="n">CoordI2D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">ivec2</span><span class="p">;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="k">using</span><span class="w"> </span><span class="n">Coord3D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec3</span><span class="p">;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="k">using</span><span class="w"> </span><span class="n">CoordI3D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">ivec3</span><span class="p">;</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="k">using</span><span class="w"> </span><span class="n">Coord4D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec4</span><span class="p">;</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="k">using</span><span class="w"> </span><span class="n">CoordI4D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">ivec4</span><span class="p">;</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="k">using</span><span class="w"> </span><span class="n">BorderPlane</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec4</span><span class="p">;</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="k">using</span><span class="w"> </span><span class="n">BorderLine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec3</span><span class="p">;</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="k">enum</span><span class="w"> </span><span class="nc">RenderMode</span><span class="p">{</span><span class="n">FACE</span><span class="p">,</span><span class="n">EDGE</span><span class="p">,</span><span class="n">VERTEX</span><span class="p">};</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="k">enum</span><span class="w"> </span><span class="nc">RenderColorType</span><span class="p">{</span><span class="n">BACKGROUND</span><span class="p">,</span><span class="w"> </span><span class="n">LINE</span><span class="p">,</span><span class="w"> </span><span class="n">POINT</span><span class="p">};</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="k">enum</span><span class="w"> </span><span class="nc">LightColorType</span><span class="p">{</span><span class="n">DIFFUSE</span><span class="p">,</span><span class="w"> </span><span class="n">SPECULAR</span><span class="p">,</span><span class="w"> </span><span class="n">AMBIENT</span><span class="p">};</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Vertex</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="p">{</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">    </span><span class="n">Coord3D</span><span class="w"> </span><span class="n">worldSpacePos</span><span class="p">;</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="w">    </span><span class="k">union</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="w">        </span><span class="n">Coord4D</span><span class="w"> </span><span class="n">clipSpacePos</span><span class="p">;</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="w">        </span><span class="n">Coord4D</span><span class="w"> </span><span class="n">ndcSpacePos</span><span class="p">;</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="w">    </span><span class="n">CoordI2D</span><span class="w"> </span><span class="n">screenPos</span><span class="p">;</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">screenDepth</span><span class="p">;</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="w">    </span><span class="n">Vector3D</span><span class="w"> </span><span class="n">normal</span><span class="p">;</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="w">    </span><span class="n">Coord2D</span><span class="w"> </span><span class="n">texCoord</span><span class="p">;</span>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a><span class="p">};</span>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="k">using</span><span class="w"> </span><span class="n">Triangle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">Vertex</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="p">;</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a><span class="k">using</span><span class="w"> </span><span class="n">Line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">CoordI2D</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="o">&gt;</span><span class="p">;</span>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a>
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Fragment</span>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a><span class="p">{</span>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a><span class="w">    </span><span class="n">Coord3D</span><span class="w"> </span><span class="n">worldSpacePos</span><span class="p">;</span>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a><span class="w">    </span><span class="n">CoordI2D</span><span class="w"> </span><span class="n">screenPos</span><span class="p">;</span>
</span><span id="__span-2-41"><a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">screenDepth</span><span class="p">;</span>
</span><span id="__span-2-42"><a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a><span class="w">    </span><span class="n">Color</span><span class="w"> </span><span class="n">fragmentColor</span><span class="p">;</span>
</span><span id="__span-2-43"><a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a><span class="w">    </span><span class="n">Vector3D</span><span class="w"> </span><span class="n">normal</span><span class="p">;</span>
</span><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a><span class="w">    </span><span class="n">Coord2D</span><span class="w"> </span><span class="n">texCoord</span><span class="p">;</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a><span class="p">};</span>
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a>
</span><span id="__span-2-47"><a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Light</span>
</span><span id="__span-2-48"><a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a><span class="p">{</span>
</span><span id="__span-2-49"><a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a><span class="w">    </span><span class="k">union</span><span class="p">{</span>
</span><span id="__span-2-50"><a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a><span class="w">        </span><span class="n">Coord4D</span><span class="w"> </span><span class="n">pos</span><span class="p">;</span>
</span><span id="__span-2-51"><a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a><span class="w">        </span><span class="n">Vector4D</span><span class="w"> </span><span class="n">dir</span><span class="p">;</span>
</span><span id="__span-2-52"><a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-2-53"><a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a><span class="w">    </span><span class="n">Color</span><span class="w"> </span><span class="n">ambient</span><span class="p">;</span>
</span><span id="__span-2-54"><a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a><span class="w">    </span><span class="n">Color</span><span class="w"> </span><span class="n">diffuse</span><span class="p">;</span>
</span><span id="__span-2-55"><a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a><span class="w">    </span><span class="n">Color</span><span class="w"> </span><span class="n">specular</span><span class="p">;</span>
</span><span id="__span-2-56"><a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a><span class="p">};</span>
</span><span id="__span-2-57"><a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a>
</span><span id="__span-2-58"><a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Material</span>
</span><span id="__span-2-59"><a id="__codelineno-2-59" name="__codelineno-2-59" href="#__codelineno-2-59"></a><span class="p">{</span>
</span><span id="__span-2-60"><a id="__codelineno-2-60" name="__codelineno-2-60" href="#__codelineno-2-60"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">diffuse</span><span class="p">;</span>
</span><span id="__span-2-61"><a id="__codelineno-2-61" name="__codelineno-2-61" href="#__codelineno-2-61"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">specular</span><span class="p">;</span>
</span><span id="__span-2-62"><a id="__codelineno-2-62" name="__codelineno-2-62" href="#__codelineno-2-62"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">shininess</span><span class="p">;</span>
</span><span id="__span-2-63"><a id="__codelineno-2-63" name="__codelineno-2-63" href="#__codelineno-2-63"></a><span class="p">};</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>+struct Vertex {
    -Coord3D worldSpacePos // ä¸–ç•Œç©ºé—´ä½ç½®
    -union {
        -Coord4D clipSpacePos // è£å‰ªç©ºé—´ä½ç½®
        -Coord4D ndcSpacePos // å½’ä¸€åŒ–è®¾å¤‡åæ ‡ç©ºé—´ä½ç½®
    }
    -CoordI2D screenPos // å±å¹•ä½ç½®
    -float screenDepth // å±å¹•æ·±åº¦
    -Vector3D normal // æ³•å‘é‡
    -Coord2D texCoord // çº¹ç†åæ ‡
}
+struct Fragment {
    -Coord3D worldSpacePos // ä¸–ç•Œç©ºé—´ä½ç½®
    -CoordI2D screenPos // å±å¹•ä½ç½®
    -float screenDepth // å±å¹•æ·±åº¦
    -Color fragmentColor // ç‰‡å…ƒé¢œè‰²
    -Vector3D normal // æ³•å‘é‡
    -Coord2D texCoord // çº¹ç†åæ ‡
}
+struct Light {
    -union {
        -Coord4D pos // ä½ç½®
        -Vector4D dir // æ–¹å‘
    }
    -Color ambient // ç¯å¢ƒå…‰é¢œè‰²
    -Color diffuse // æ¼«åå°„é¢œè‰²
    -Color specular // é•œé¢åå°„é¢œè‰²
}
+struct Material {
    -int diffuse // æ¼«åå°„
    -int specular // é•œé¢åå°„
    -float shininess // é«˜å…‰åº¦
}
</code></pre></div>
<h3 id="edgeequation">EdgeEquation</h3>
<p><img alt="image-20240424223127871" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041722804.png" tag="3" /></p>
<h4 id="_3">è®¡ç®—è¾¹ç¼˜æ–¹ç¨‹çš„å‚æ•°</h4>
<p><a href="https://zhuanlan.zhihu.com/p/140926917">å›¾å½¢å­¦åº•å±‚æ¢ç§˜ - æ›´ç°ä»£çš„ä¸‰è§’å½¢å…‰æ …åŒ–ä¸æ’å€¼ç®—æ³•çš„å®ç°ä¸ä¼˜åŒ– - çŸ¥ä¹ (zhihu.com)</a></p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">EdgeEquation</span><span class="o">::</span><span class="n">EdgeEquation</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Triangle</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tri</span><span class="p">)</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="p">{</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="n">I</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">        </span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="p">,</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">        </span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="p">,</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">        </span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="p">};</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="n">J</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">        </span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">        </span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">        </span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="p">};</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">    </span><span class="n">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">        </span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">        </span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">        </span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="p">};</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">    </span><span class="n">topLeftFlag</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JudgeOnTopLeftEdge</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenPos</span><span class="p">,</span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenPos</span><span class="p">);</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">    </span><span class="n">topLeftFlag</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JudgeOnTopLeftEdge</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenPos</span><span class="p">,</span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenPos</span><span class="p">);</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">    </span><span class="n">topLeftFlag</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JudgeOnTopLeftEdge</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenPos</span><span class="p">,</span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenPos</span><span class="p">);</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">    </span><span class="n">twoArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">K</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">K</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">K</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">    </span><span class="n">delta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.f</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">twoArea</span><span class="p">;</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="p">}</span>
</span></code></pre></div>
<blockquote>
<p><code>EdgeEquation</code> çš„æ„é€ å‡½æ•°ï¼Œé€šè¿‡ä¸‰è§’å½¢çš„å±å¹•ç©ºé—´åæ ‡è®¡ç®—è¾¹ç¼˜æ–¹ç¨‹çš„å‚æ•°ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­è¿›è¡Œäº†åˆå§‹åŒ–è®¾ç½®ï¼Œä¸ºåç»­çš„ä¸‰è§’å½¢å…‰æ …åŒ–å¤„ç†æä¾›äº†åŸºç¡€çš„è¾¹ç¼˜æ–¹ç¨‹è®¡ç®—å’Œåˆ¤æ–­ã€‚</p>
<ol>
<li>
<p>è®¡ç®—è¾¹ç¼˜æ–¹ç¨‹çš„å‚æ•°ï¼š</p>
</li>
<li>
<p>é¦–å…ˆè®¡ç®—äº†ä¸‰æ¡è¾¹çš„æ–œç‡å‚æ•° I å’Œ Jï¼Œä»¥åŠå¸¸æ•°é¡¹ Kã€‚è¿™äº›å‚æ•°ç”¨äºåç»­çš„è¾¹ç¼˜æ–¹ç¨‹è®¡ç®—ã€‚</p>
</li>
<li>Iã€Jã€K çš„è®¡ç®—åŸºäºä¸‰è§’å½¢çš„ä¸‰ä¸ªé¡¶ç‚¹çš„å±å¹•ç©ºé—´åæ ‡ï¼Œåˆ©ç”¨å·®åˆ†è®¡ç®—ä¸¤ä¸ªç‚¹çš„åæ ‡å·®ã€‚</li>
<li><code>topLeftFlag</code> æ•°ç»„ç”¨äºå­˜å‚¨åˆ¤æ–­ä¸‰è§’å½¢çš„æ¯æ¡è¾¹æ˜¯å¦åœ¨å±å¹•ä¸Šéƒ¨å·¦ä¾§çš„æ ‡å¿—ï¼Œè¿™ä¸ªæ ‡å¿—åœ¨åˆ¤æ–­åƒç´ æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨æ—¶ä¼šç”¨åˆ°ã€‚</li>
<li><code>twoArea</code> æ˜¯ä¸‰è§’å½¢çš„ä¸¤å€é¢ç§¯ï¼Œç”¨äºé¢å‰”é™¤åˆ¤æ–­å’Œåƒç´ æ’å€¼è®¡ç®—ã€‚</li>
<li>
<p><code>delta</code> æ˜¯è®¡ç®—æ’å€¼æ—¶ä½¿ç”¨çš„å‚æ•°ï¼Œå®ƒæ˜¯ <code>1 / twoArea</code>ã€‚</p>
</li>
<li>
<p>ä»£ç ä¸­çš„ <code>JudgeOnTopLeftEdge</code> å‡½æ•°ç”¨äºåˆ¤æ–­æŸä¸ªç‚¹æ˜¯å¦åœ¨å¦å¤–ä¸¤ä¸ªç‚¹çš„ä¸Šéƒ¨æˆ–è€…å·¦ä¾§ï¼Œè¿™æ˜¯åˆ¤æ–­ä¸‰è§’å½¢è¾¹ç¼˜åœ¨å±å¹•ä¸Šéƒ¨å·¦ä¾§çš„æ ‡å¿—ã€‚</p>
</li>
</ol>
</blockquote>
<h3 id="camera">Camera</h3>
<p><img alt="image-20240425110405053" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723623.png" tag="3" /></p>
<h3 id="shader">Shader</h3>
<p><img alt="image-20240424224943212" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723923.png" tag="3" /></p>
<h3 id="blinnphongshader">BlinnPhongShader</h3>
<p><img alt="image-20240424215631283" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723392.png" tag="3" /></p>
<h3 id="fragmentshader">FragmentShader</h3>
<h3 id="framebuffer">FrameBuffer</h3>
<p><img alt="image-20240424215836621" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723608.png" tag="3" /></p>
<h3 id="mesh">Mesh</h3>
<p><img alt="image-20240424221931723" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723022.png" tag="3" /></p>
<h3 id="model">Model</h3>
<p><img alt="image-20240424221855310" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723086.png" tag="3" /></p>
<h3 id="texture">Texture</h3>
<p><img alt="image-20240424225350696" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723154.png" tag="3" /></p>
<h3 id="trendererdevice">TRendererDevice</h3>
<p><img alt="image-20240424223243136" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723971.png" tag="3" /></p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="w">    </span><span class="n">TRendererDevice</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">h</span><span class="p">);</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="n">TRendererDevice</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">TRendererDevice</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">delete</span><span class="p">;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="n">TRendererDevice</span><span class="p">(</span><span class="n">TRendererDevice</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">delete</span><span class="p">;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="n">TRendererDevice</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">TRendererDevice</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">delete</span><span class="p">;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="n">TRendererDevice</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">TRendererDevice</span><span class="o">&amp;&amp;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">delete</span>
</span></code></pre></div>
<p>æ˜¯åœ¨ <code>TRendererDevice</code> ç±»ä¸­å®šä¹‰ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œç”¨äºæ§åˆ¶å¯¹è±¡çš„æ‹·è´å’Œç§»åŠ¨æ“ä½œã€‚</p>
<ol>
<li>
<p><code>TRendererDevice(int w, int h);</code>ï¼šè¿™æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆ›å»º <code>TRendererDevice</code> å¯¹è±¡ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•° <code>w</code> å’Œ <code>h</code>ï¼Œåˆ†åˆ«è¡¨ç¤ºå®½åº¦å’Œé«˜åº¦ã€‚</p>
</li>
<li>
<p><code>TRendererDevice(const TRendererDevice&amp;) = delete;</code>ï¼šè¿™æ˜¯åˆ é™¤æ‹·è´æ„é€ å‡½æ•°çš„è¯­æ³•ã€‚é€šè¿‡å°†æ‹·è´æ„é€ å‡½æ•°æ ‡è®°ä¸ºåˆ é™¤ï¼Œè¡¨æ˜ç¦æ­¢ä½¿ç”¨æ‹·è´æ„é€ å‡½æ•°æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œå³ä¸å…è®¸é€šè¿‡æ‹·è´æ„é€ å‡½æ•°è¿›è¡Œå¯¹è±¡çš„å¤åˆ¶ã€‚</p>
</li>
<li>
<p><code>TRendererDevice(TRendererDevice &amp;&amp;) = delete;</code>ï¼šè¿™æ˜¯åˆ é™¤ç§»åŠ¨æ„é€ å‡½æ•°çš„è¯­æ³•ã€‚åŒæ ·åœ°ï¼Œé€šè¿‡å°†ç§»åŠ¨æ„é€ å‡½æ•°æ ‡è®°ä¸ºåˆ é™¤ï¼Œè¡¨æ˜ç¦æ­¢ä½¿ç”¨ç§»åŠ¨æ„é€ å‡½æ•°æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œå³ä¸å…è®¸é€šè¿‡ç§»åŠ¨æ„é€ å‡½æ•°è¿›è¡Œå¯¹è±¡çš„ç§»åŠ¨æ„é€ ã€‚</p>
</li>
<li>
<p><code>TRendererDevice&amp; operator=(const TRendererDevice&amp;) = delete;</code>ï¼šè¿™æ˜¯åˆ é™¤æ‹·è´èµ‹å€¼è¿ç®—ç¬¦çš„è¯­æ³•ã€‚é€šè¿‡å°†æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æ ‡è®°ä¸ºåˆ é™¤ï¼Œè¡¨æ˜ç¦æ­¢ä½¿ç”¨æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æ¥è¿›è¡Œå¯¹è±¡çš„èµ‹å€¼æ“ä½œï¼Œå³ä¸å…è®¸é€šè¿‡æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æ¥å°†ä¸€ä¸ªå¯¹è±¡çš„å€¼å¤åˆ¶ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>
</li>
<li>
<p><code>TRendererDevice&amp; operator=(TRendererDevice&amp;&amp;) = delete;</code>ï¼šè¿™æ˜¯åˆ é™¤ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦çš„è¯­æ³•ã€‚åŒæ ·åœ°ï¼Œé€šè¿‡å°†ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦æ ‡è®°ä¸ºåˆ é™¤ï¼Œè¡¨æ˜ç¦æ­¢ä½¿ç”¨ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦æ¥è¿›è¡Œå¯¹è±¡çš„ç§»åŠ¨èµ‹å€¼æ“ä½œï¼Œå³ä¸å…è®¸é€šè¿‡ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦æ¥å°†ä¸€ä¸ªå¯¹è±¡çš„å€¼ç§»åŠ¨ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>
</li>
</ol>
<p>è¿™äº›åˆ é™¤æ“ä½œç¬¦çš„ä½œç”¨æ˜¯ä¸ºäº†é˜²æ­¢å¯¹è±¡çš„æ‹·è´å’Œç§»åŠ¨ï¼Œä»è€Œä¿è¯ç±»çš„å¯¹è±¡åœ¨ç¨‹åºä¸­ä¸ä¼šè¢«æ„å¤–åœ°å¤åˆ¶æˆ–ç§»åŠ¨ï¼Œç¡®ä¿ä»£ç çš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœæŸä¸ªç±»çš„å¯¹è±¡ä¸éœ€è¦è¢«æ‹·è´æˆ–ç§»åŠ¨ï¼Œå°±å¯ä»¥å°†å¯¹åº”çš„æ‹·è´æ„é€ å‡½æ•°ã€ç§»åŠ¨æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦æ ‡è®°ä¸ºåˆ é™¤ã€‚</p>
<h4 id="half-space">Half-Space ä¸‰è§’å½¢å…‰æ …åŒ–ç®—æ³•</h4>
<p><a href="https://www.researchgate.net/publication/286441992_Accelerated_Half-Space_Triangle_Rasterization">(PDF) Accelerated Half-Space Triangle Rasterization (researchgate.net)</a></p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">// Half-Space ä¸‰è§’å½¢å…‰æ …åŒ–ç®—æ³•</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">TRendererDevice::RasterizationTriangle</span><span class="p">(</span><span class="n">Triangle</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tri</span><span class="p">)</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="p">{</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="n">CoordI4D</span><span class="w"> </span><span class="n">boundingBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetBoundingBox</span><span class="p">(</span><span class="n">tri</span><span class="p">);</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">xMin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boundingBox</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">yMin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boundingBox</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">xMax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boundingBox</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">yMax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boundingBox</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="n">EdgeEquation</span><span class="w"> </span><span class="n">triEdge</span><span class="p">(</span><span class="n">tri</span><span class="p">);</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">faceCulling</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">triEdge</span><span class="p">.</span><span class="n">twoArea</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">triEdge</span><span class="p">.</span><span class="n">twoArea</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">    </span><span class="n">Fragment</span><span class="w"> </span><span class="n">frag</span><span class="p">;</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">    </span><span class="n">VectorI3D</span><span class="w"> </span><span class="n">cy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">triEdge</span><span class="p">.</span><span class="n">GetResult</span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="n">yMin</span><span class="p">);</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yMin</span><span class="p">;</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">yMax</span><span class="p">;</span><span class="w"> </span><span class="n">y</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">        </span><span class="n">VectorI3D</span><span class="w"> </span><span class="n">cx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cy</span><span class="p">;</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xMin</span><span class="p">;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">xMax</span><span class="p">;</span><span class="w"> </span><span class="n">x</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">JudgeInsideTriangle</span><span class="p">(</span><span class="n">triEdge</span><span class="p">,</span><span class="w"> </span><span class="n">cx</span><span class="p">))</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="w">                </span><span class="n">Vector3D</span><span class="w"> </span><span class="n">barycentric</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">triEdge</span><span class="p">.</span><span class="n">GetBarycentric</span><span class="p">(</span><span class="n">cx</span><span class="p">);</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">screenDepth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculateInterpolation</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">screenDepth</span><span class="p">,</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">screenDepth</span><span class="p">,</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">screenDepth</span><span class="p">,</span><span class="w"> </span><span class="n">barycentric</span><span class="p">);</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">frameBuffer</span><span class="p">.</span><span class="n">JudgeDepth</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">screenDepth</span><span class="p">))</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="w">                </span><span class="p">{</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="n">viewDepth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0f</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">barycentric</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">ndcSpacePos</span><span class="p">.</span><span class="n">w</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">barycentric</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">ndcSpacePos</span><span class="p">.</span><span class="n">w</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">barycentric</span><span class="p">.</span><span class="n">z</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">ndcSpacePos</span><span class="p">.</span><span class="n">w</span><span class="p">);</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="w">                    </span><span class="n">frag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ConstructFragment</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">screenDepth</span><span class="p">,</span><span class="w"> </span><span class="n">viewDepth</span><span class="p">,</span><span class="w"> </span><span class="n">tri</span><span class="p">,</span><span class="w"> </span><span class="n">barycentric</span><span class="p">);</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a><span class="w">                    </span><span class="n">shader</span><span class="o">-&gt;</span><span class="n">FragmentShader</span><span class="p">(</span><span class="n">frag</span><span class="p">);</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a><span class="w">                    </span><span class="n">frameBuffer</span><span class="p">.</span><span class="n">SetPixel</span><span class="p">(</span><span class="n">frag</span><span class="p">.</span><span class="n">screenPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="n">frag</span><span class="p">.</span><span class="n">screenPos</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="n">frag</span><span class="p">.</span><span class="n">fragmentColor</span><span class="p">);</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a><span class="w">                </span><span class="p">}</span>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a><span class="w">            </span><span class="n">triEdge</span><span class="p">.</span><span class="n">UpX</span><span class="p">(</span><span class="n">cx</span><span class="p">);</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a><span class="w">        </span><span class="n">triEdge</span><span class="p">.</span><span class="n">UpY</span><span class="p">(</span><span class="n">cy</span><span class="p">);</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a><span class="p">}</span>
</span></code></pre></div>
<blockquote>
<p>åŠç©ºé—´ä¸‰è§’å½¢æ …æ ¼åŒ–ç®—æ³•ï¼Œå³å¯¹ä¸‰è§’å½¢è¿›è¡Œåƒç´ åŒ–å¤„ç†ä»¥ä¾¿åœ¨å±å¹•ä¸Šè¿›è¡Œæ¸²æŸ“ã€‚</p>
<p>ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>è·å–ä¸‰è§’å½¢çš„åŒ…å›´ç›’ï¼š</li>
<li>
<p>é¦–å…ˆè°ƒç”¨ <code>GetBoundingBox(tri)</code> è·å–ä¸‰è§’å½¢çš„åŒ…å›´ç›’ï¼Œå¾—åˆ°åŒ…å›´ç›’çš„æœ€å°å’Œæœ€å¤§çš„ xã€y åæ ‡ã€‚</p>
</li>
<li>
<p>åˆ›å»ºè¾¹ç¼˜æ–¹ç¨‹å¯¹è±¡ï¼š</p>
</li>
<li>
<p>ä½¿ç”¨ <code>EdgeEquation triEdge(tri)</code> åˆ›å»ºä¸€ä¸ªè¾¹ç¼˜æ–¹ç¨‹å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç”¨äºåç»­åˆ¤æ–­åƒç´ æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨ã€‚</p>
</li>
<li>
<p>é¢å‰”é™¤åˆ¤æ–­ï¼š</p>
</li>
<li>å¦‚æœå¯ç”¨äº†é¢å‰”é™¤ï¼ˆ<code>faceCulling</code> ä¸ºçœŸï¼‰ï¼Œå¹¶ä¸”ä¸‰è§’å½¢çš„ä¸¤å€é¢ç§¯å°äºç­‰äº 0ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œä¸è¿›è¡Œåç»­çš„åƒç´ å¤„ç†ã€‚</li>
<li>
<p>å¦åˆ™ï¼Œå¦‚æœä¸‰è§’å½¢çš„ä¸¤å€é¢ç§¯ç­‰äº 0ï¼Œä¹Ÿç›´æ¥è¿”å›ï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹ä¸‰è§’å½¢æ˜¯é€€åŒ–çš„ï¼Œä¸éœ€è¦è¿›è¡Œåƒç´ å¤„ç†ã€‚</p>
</li>
<li>
<p>é€åƒç´ å¤„ç†ï¼š</p>
</li>
<li>ä»åŒ…å›´ç›’çš„æœ€å° xã€y åæ ‡å¼€å§‹ï¼Œéå†åŒ…å›´ç›’å†…çš„æ¯ä¸ªåƒç´ ã€‚</li>
<li>å¯¹äºæ¯ä¸ªåƒç´ ï¼Œé€šè¿‡è¾¹ç¼˜æ–¹ç¨‹åˆ¤æ–­å…¶æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨ï¼ˆè°ƒç”¨ <code>JudgeInsideTriangle(triEdge, cx)</code>ï¼‰ã€‚</li>
<li>å¦‚æœåœ¨ä¸‰è§’å½¢å†…éƒ¨ï¼Œåˆ™è®¡ç®—å…¶é‡å¿ƒåæ ‡ï¼ˆbarycentricï¼‰å’Œå±å¹•æ·±åº¦ï¼ˆscreenDepthï¼‰ï¼Œå¹¶æ ¹æ®é‡å¿ƒåæ ‡æ’å€¼è®¡ç®—è§†å›¾ç©ºé—´æ·±åº¦ï¼ˆviewDepthï¼‰ã€‚</li>
<li>åˆ©ç”¨è®¡ç®—å¾—åˆ°çš„åƒç´ ä¿¡æ¯ï¼Œæ„é€ ä¸€ä¸ªç‰‡å…ƒå¯¹è±¡ï¼ˆ<code>frag = ConstructFragment(x, y, screenDepth, viewDepth, tri, barycentric)</code>ï¼‰ï¼Œç„¶åè°ƒç”¨ç€è‰²å™¨çš„ç‰‡å…ƒç€è‰²å™¨æ–¹æ³• <code>shader-&gt;FragmentShader(frag)</code> è¿›è¡Œå…‰ç…§è®¡ç®—ï¼Œæœ€åå°†è®¡ç®—å¾—åˆ°çš„é¢œè‰²å€¼è®¾ç½®åˆ°å¸§ç¼“å†²åŒºçš„å¯¹åº”åƒç´ ä½ç½®ä¸Šã€‚</li>
</ol>
<p>æ€»ä½“æ¥è¯´ï¼Œè¿™æ®µä»£ç æ˜¯å¯¹ä¸‰è§’å½¢è¿›è¡Œå…‰æ …åŒ–å¤„ç†çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œé€šè¿‡è¾¹ç¼˜æ–¹ç¨‹åˆ¤æ–­åƒç´ æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨ï¼Œç„¶åè¿›è¡Œåƒç´ æ’å€¼è®¡ç®—æ·±åº¦å’Œé¢œè‰²ï¼Œæœ€ç»ˆå°†è®¡ç®—å¾—åˆ°çš„é¢œè‰²å€¼æ¸²æŸ“åˆ°å¸§ç¼“å†²åŒºä¸­ã€‚</p>
</blockquote>
<h4 id="bresenham">Bresenham ç”»çº¿ç®—æ³•</h4>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">// Bresenham ç”»çº¿ç®—æ³•</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">TRendererDevice::DrawLine</span><span class="p">(</span><span class="n">Line</span><span class="o">&amp;</span><span class="w"> </span><span class="n">line</span><span class="p">)</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="p">{</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="c1">// å°†çº¿æ®µçš„èµ·ç‚¹å’Œç»ˆç‚¹åæ ‡è½¬æ¢ä¸ºæ•´æ•°,å¹¶ä¸”é™åˆ¶åœ¨å±å¹•èŒƒå›´å†…</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">clamp</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">clamp</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">y0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">clamp</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">y1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">clamp</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">steep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">    </span><span class="c1">// å¦‚æœçº¿æ®µåœ¨xæ–¹å‘ä¸Šçš„å˜åŒ–é‡å°äºyæ–¹å‘ä¸Šçš„å˜åŒ–é‡,åˆ™å°†xå’Œyäº’æ¢,æ ‡è®°ä¸ºsteep</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">x0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">y0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">y1</span><span class="p">))</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span><span class="w"> </span><span class="n">y0</span><span class="p">);</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">y1</span><span class="p">);</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">        </span><span class="n">steep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="w">    </span><span class="c1">// å¦‚æœèµ·ç‚¹xåæ ‡å¤§äºç»ˆç‚¹xåæ ‡,åˆ™äº¤æ¢èµ·ç‚¹å’Œç»ˆç‚¹çš„xå’Œyåæ ‡</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x0</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">x1</span><span class="p">)</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span><span class="w"> </span><span class="n">x1</span><span class="p">);</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">y0</span><span class="p">,</span><span class="w"> </span><span class="n">y1</span><span class="p">);</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x0</span><span class="p">;</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">y0</span><span class="p">;</span>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dy</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">    </span><span class="c1">// åˆ¤æ–­yæ–¹å‘ä¸Šçš„å˜åŒ–æ–¹å‘</span>
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dy</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="n">dy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">dy</span><span class="p">;</span>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">dx</span><span class="p">;</span><span class="w">              </span><span class="c1">// è®¡ç®—è¯¯å·®å€¼</span>
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x0</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y0</span><span class="p">;</span>
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">x1</span><span class="p">)</span>
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>
</span><span id="__span-6-36"><a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">steep</span><span class="p">)</span><span class="n">frameBuffer</span><span class="p">.</span><span class="n">SetPixel</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">lineColor</span><span class="p">);</span>
</span><span id="__span-6-37"><a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="n">frameBuffer</span><span class="p">.</span><span class="n">SetPixel</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">lineColor</span><span class="p">);</span>
</span><span id="__span-6-38"><a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>
</span><span id="__span-6-39"><a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a><span class="w">        </span><span class="n">e</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dy</span><span class="p">);</span><span class="w">          </span><span class="c1">// æ›´æ–°è¯¯å·®å€¼</span>
</span><span id="__span-6-40"><a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-6-41"><a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-6-42"><a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a><span class="w">            </span><span class="n">y</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
</span><span id="__span-6-43"><a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a><span class="w">            </span><span class="n">e</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dx</span><span class="p">);</span>
</span><span id="__span-6-44"><a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-6-45"><a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a><span class="w">        </span><span class="o">++</span><span class="n">x</span><span class="p">;</span><span class="w">                    </span><span class="c1">// ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªåƒç´ ç‚¹</span>
</span><span id="__span-6-46"><a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-47"><a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a><span class="p">}</span>
</span></code></pre></div>
<blockquote>
<p><a href="https://www.baidu.com/link?url=RZ670kfXaeOpyIeNpedK13vK-0w0BmDboix5-94kdbvrV7gAHY4MVpl9vXBjiK0ZIITPRpEJddI8w4dl61Sot_&amp;wd=&amp;eqid=805ba529000180f0000000036629db26">é«˜çº§è®¡ç®—æœºå›¾å½¢å­¦ ä¸­ç§‘å¤§è¯¾ä»¶ å…‰æ …åŒ– Bresenhamç”»çº¿ç®—æ³•</a></p>
<p><a href="https://www.cnblogs.com/gamesky/archive/2012/08/21/2648623.html">Bresenhamå¿«é€Ÿç”»ç›´çº¿ç®—æ³• - å†·å¤œ - ç½‘æ¸¸ç¼–ç¨‹æŠ€æœ¯ - åšå®¢å›­ (cnblogs.com)</a></p>
<p><a href="https://deepnight.net/tutorial/bresenham-magic-raycasting-line-of-sight-pathfinding/">Deepnight Games | Bresenham algorithm</a></p>
<blockquote>
<p><a href="https://www.gcores.com/articles/150791">è¯‘ä»‹ä¸¨ç®€å•ä»‹ç»Bresenhamç›´çº¿ç®—æ³• | æœºæ ¸ GCORES</a></p>
</blockquote>
<p><a href="https://tastones.com/stackoverflow/algorithm/line-algorithm/bresenham_line_drawing_algorithm/">Bresenham çº¿ç»˜åˆ¶ç®—æ³• | ä»–å±±æ•™ç¨‹ï¼Œåªé€‰æ‹©æœ€ä¼˜è´¨çš„è‡ªå­¦ææ–™ (tastones.com)</a></p>
<p>Bresenham ç›´çº¿ç®—æ³•æ˜¯ä¸€ç§ç”¨äºç»˜åˆ¶ç›´çº¿çš„ç»å…¸ç®—æ³•ï¼Œå®ƒèƒ½å¤Ÿé«˜æ•ˆåœ°è®¡ç®—å‡ºç›´çº¿ä¸Šçš„å„ä¸ªåƒç´ ç‚¹ï¼Œé€‚ç”¨äºè®¡ç®—æœºå›¾å½¢å­¦ä¸­çš„çº¿æ®µç»˜åˆ¶å’Œå…‰æ …åŒ–ã€‚<code>ä¸»è¦é’ˆå¯¹æ•´æ•°åæ ‡ç³»ä¸‹çš„ç›´çº¿ç»˜åˆ¶</code>ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡è®¡ç®—ç›´çº¿æ–œç‡çš„å˜åŒ–ï¼Œåˆ©ç”¨è¯¯å·®é¡¹æ¥æ§åˆ¶åƒç´ ç‚¹çš„ç»˜åˆ¶ä½ç½®ï¼Œä»è€Œå®ç°ç›´çº¿çš„è¿ç»­ç»˜åˆ¶ã€‚</p>
<p>Bresenham ç›´çº¿ç®—æ³•çš„åŸºæœ¬æ­¥éª¤ï¼š</p>
<ol>
<li>
<p>å¯¹äºç»™å®šçš„ç›´çº¿èµ·ç‚¹ (x0, y0) å’Œç»ˆç‚¹ (x1, y1)ï¼Œè®¡ç®—ç›´çº¿æ–œç‡çš„ç»å¯¹å€¼ |m|ï¼Œå…¶ä¸­ m = (y1 - y0) / (x1 - x0)ã€‚</p>
</li>
<li>
<p>æ ¹æ®ç›´çº¿çš„æ–œç‡ |m| çš„å¤§å°ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µå¤„ç†ï¼š</p>
</li>
<li>å½“ |m| &lt;= 1 æ—¶ï¼Œç›´çº¿çš„å€¾æ–œç¨‹åº¦è¾ƒå°ï¼Œåœ¨ x æ–¹å‘ä¸Šæ­¥è¿›ï¼›</li>
<li>
<p>å½“ |m| &gt; 1 æ—¶ï¼Œç›´çº¿çš„å€¾æ–œç¨‹åº¦è¾ƒå¤§ï¼Œåœ¨ y æ–¹å‘ä¸Šæ­¥è¿›ã€‚</p>
</li>
<li>
<p>æ ¹æ®æ–œç‡çš„ä¸åŒï¼Œé€‰æ‹©é€‚å½“çš„æ­¥è¿›æ–¹å¼ï¼Œå¹¶è®¡ç®—è¯¯å·®é¡¹ e çš„åˆå§‹å€¼ã€‚</p>
</li>
<li>
<p>è¿›å…¥ä¸»å¾ªç¯ï¼Œæ ¹æ®æ­¥è¿›æ–¹å¼é€ä¸ªè®¡ç®—å¹¶ç»˜åˆ¶åƒç´ ç‚¹ï¼ŒåŒæ—¶æ›´æ–°è¯¯å·®é¡¹ eï¼š</p>
</li>
<li>å½“æ–œç‡ |m| &lt;= 1 æ—¶ï¼Œæ¯æ¬¡æ­¥è¿› x æ–¹å‘ä¸€ä¸ªåƒç´ ï¼Œè¯¯å·®é¡¹ e çš„æ›´æ–°å…¬å¼ä¸º e += 2dy - 2dxï¼Œå…¶ä¸­ dx è¡¨ç¤º x æ–¹å‘çš„æ­¥è¿›ï¼Œdy è¡¨ç¤º y æ–¹å‘çš„æ­¥è¿›ã€‚</li>
<li>
<p>å½“æ–œç‡ |m| &gt; 1 æ—¶ï¼Œæ¯æ¬¡æ­¥è¿› y æ–¹å‘ä¸€ä¸ªåƒç´ ï¼Œè¯¯å·®é¡¹ e çš„æ›´æ–°å…¬å¼ä¸º e += 2dx - 2dyã€‚</p>
</li>
<li>
<p>åœ¨æ¯æ¬¡æ›´æ–°è¯¯å·®é¡¹ e åï¼Œåˆ¤æ–­ e æ˜¯å¦è¶…è¿‡é˜ˆå€¼ï¼ˆé€šå¸¸ä¸º dx æˆ– dy çš„ä¸€åŠï¼‰ï¼Œè‹¥è¶…è¿‡é˜ˆå€¼ï¼Œåˆ™å‘ x æˆ– y æ–¹å‘æ­¥è¿›ä¸€ä¸ªåƒç´ ï¼Œå¹¶è°ƒæ•´è¯¯å·®é¡¹ eã€‚</p>
</li>
<li>
<p>å¾ªç¯ç›´åˆ°ç»˜åˆ¶å®Œæˆï¼Œå³ç›´çº¿çš„ç»ˆç‚¹åæ ‡è¾¾åˆ°ç›®æ ‡å€¼ã€‚</p>
</li>
</ol>
</blockquote>
<h4 id="cohen-sutherland-sutherland-hodgman">Cohen-Sutherland &amp; Sutherland-Hodgman ç®—æ³•(é½æ¬¡ç©ºé—´è£å‰ª)</h4>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">// Cohen-Sutherlandç®—æ³•(çº¿æ®µè£å‰ª)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">std</span><span class="o">::</span><span class="n">optional</span><span class="o">&lt;</span><span class="n">Line</span><span class="o">&gt;</span><span class="w"> </span><span class="n">TRendererDevice</span><span class="o">::</span><span class="n">ClipLine</span><span class="p">(</span><span class="n">Line</span><span class="o">&amp;</span><span class="w"> </span><span class="n">line</span><span class="p">)</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="p">{</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="c1">// è®¡ç®—çº¿æ®µç«¯ç‚¹çš„è£å‰ªç </span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">bitset</span><span class="o">&lt;</span><span class="mi">4</span><span class="o">&gt;</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">        </span><span class="n">GetClipCode</span><span class="p">(</span><span class="n">Coord3D</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">screenLines</span><span class="p">),</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">        </span><span class="n">GetClipCode</span><span class="p">(</span><span class="n">Coord3D</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">screenLines</span><span class="p">)</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">    </span><span class="c1">// å¦‚æœä¸¤ä¸ªç«¯ç‚¹éƒ½åœ¨è£å‰ªåŒºåŸŸå†…ï¼Œåˆ™ç›´æ¥è¿”å›</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">    </span><span class="k">if</span><span class="p">((</span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">]).</span><span class="n">none</span><span class="p">())</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">line</span><span class="p">;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">    </span><span class="c1">// å¦‚æœä¸¤ä¸ªç«¯ç‚¹éƒ½åœ¨è£å‰ªåŒºåŸŸå¤–ï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒè¯¥ç›´çº¿</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">    </span><span class="k">if</span><span class="p">((</span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">]).</span><span class="n">any</span><span class="p">())</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">nullopt</span><span class="p">;</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">        </span><span class="c1">// å¦‚æœä¸¤ä¸ªç«¯ç‚¹åœ¨ä¸åŒçš„è£å‰ªåŒºåŸŸå†…éƒ¨æˆ–å¤–éƒ¨</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="w">        </span><span class="c1">// è£å‰ªç æ˜¯é€šè¿‡ä½ç¼–ç æ¥è¡¨ç¤ºç‚¹çš„ä½ç½®å…³ç³»çš„</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="w">        </span><span class="c1">// å¯¹ä¸¤ä¸ªè£å‰ªç è¿›è¡Œä½å¼‚æˆ–è¿ç®—,å–ç´¢å¼•ä¸ºiçš„ä½,å¯æ£€æŸ¥ä¸¤ç«¯ç‚¹åœ¨ç¬¬iä½ä¸Šæ˜¯å¦ä¸åŒ</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">        </span><span class="k">if</span><span class="p">((</span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">])[</span><span class="n">i</span><span class="p">])</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="w">            </span><span class="c1">// è®¡ç®—ç›´çº¿ç«¯ç‚¹åˆ°è£å‰ªå¹³é¢çš„è·ç¦»</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="w">            </span><span class="kt">float</span><span class="w"> </span><span class="n">da</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculateDistance</span><span class="p">(</span><span class="n">Coord3D</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">screenLines</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="w">            </span><span class="kt">float</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculateDistance</span><span class="p">(</span><span class="n">Coord3D</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">screenLines</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="w">            </span><span class="c1">// è®¡ç®—äº¤ç‚¹å¤„çš„æ’å€¼ç³»æ•°</span>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="w">            </span><span class="kt">float</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">da</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">da</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">db</span><span class="p">);</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a><span class="w">            </span><span class="c1">// è®¡ç®—äº¤ç‚¹çš„å±å¹•åæ ‡</span>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="w">            </span><span class="n">CoordI2D</span><span class="w"> </span><span class="n">np</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculateInterpolation</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">alpha</span><span class="p">);</span>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a>
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a><span class="w">            </span><span class="c1">// æ ¹æ®è£å‰ªå¹³é¢çš„ä¸åŒï¼Œæ›´æ–°ç›´çº¿çš„ç«¯ç‚¹å’Œè£å‰ªç </span>
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">da</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">){</span>
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="w">                </span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">;</span>
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a><span class="w">                </span><span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetClipCode</span><span class="p">(</span><span class="n">Coord3D</span><span class="p">(</span><span class="n">np</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">screenLines</span><span class="p">);</span>
</span><span id="__span-7-36"><a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a><span class="w">            </span><span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span><span id="__span-7-37"><a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="w">                </span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">;</span>
</span><span id="__span-7-38"><a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a><span class="w">                </span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetClipCode</span><span class="p">(</span><span class="n">Coord3D</span><span class="p">(</span><span class="n">np</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">screenLines</span><span class="p">);</span>
</span><span id="__span-7-39"><a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-7-40"><a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-7-41"><a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-42"><a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">line</span><span class="p">;</span>
</span><span id="__span-7-43"><a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a><span class="p">}</span>
</span><span id="__span-7-44"><a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a>
</span><span id="__span-7-45"><a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a>
</span><span id="__span-7-46"><a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a><span class="c1">// Sutherland-Hodgman ç®—æ³•(é½æ¬¡ç©ºé—´è£å‰ª)</span>
</span><span id="__span-7-47"><a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Triangle</span><span class="o">&gt;</span><span class="w"> </span><span class="n">TRendererDevice</span><span class="o">::</span><span class="n">ClipTriangle</span><span class="p">(</span><span class="n">Triangle</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tri</span><span class="p">)</span>
</span><span id="__span-7-48"><a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a><span class="p">{</span>
</span><span id="__span-7-49"><a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a><span class="w">    </span><span class="c1">// è®¡ç®—ä¸‰è§’å½¢ä¸‰ä¸ªé¡¶ç‚¹çš„è£å‰ªç </span>
</span><span id="__span-7-50"><a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">bitset</span><span class="o">&lt;</span><span class="mi">6</span><span class="o">&gt;</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-7-51"><a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-52"><a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a><span class="w">        </span><span class="n">GetClipCode</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">clipSpacePos</span><span class="p">,</span><span class="w"> </span><span class="n">viewPlanes</span><span class="p">),</span>
</span><span id="__span-7-53"><a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a><span class="w">        </span><span class="n">GetClipCode</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">clipSpacePos</span><span class="p">,</span><span class="w"> </span><span class="n">viewPlanes</span><span class="p">),</span>
</span><span id="__span-7-54"><a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a><span class="w">        </span><span class="n">GetClipCode</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">clipSpacePos</span><span class="p">,</span><span class="w"> </span><span class="n">viewPlanes</span><span class="p">)</span>
</span><span id="__span-7-55"><a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-7-56"><a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a>
</span><span id="__span-7-57"><a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a><span class="w">    </span><span class="c1">// å¦‚æœä¸‰ä¸ªé¡¶ç‚¹çš„è£å‰ªç å‡ä¸º0,å³ä¸‰è§’å½¢å®Œå…¨åœ¨è§†é”¥ä½“å†…,æ— éœ€è£å‰ª,ç›´æ¥è¿”å›åŸå§‹ä¸‰è§’å½¢</span>
</span><span id="__span-7-58"><a id="__codelineno-7-58" name="__codelineno-7-58" href="#__codelineno-7-58"></a><span class="w">    </span><span class="c1">// å¦‚æœä¸‰ä¸ªé¡¶ç‚¹çš„è£å‰ªç çš„ä¸è¿ç®—ç»“æœä¸ºé0,å³ä¸‰è§’å½¢å®Œå…¨åœ¨è§†é”¥ä½“å¤–éƒ¨,ä¸¢å¼ƒè¯¥ä¸‰è§’å½¢</span>
</span><span id="__span-7-59"><a id="__codelineno-7-59" name="__codelineno-7-59" href="#__codelineno-7-59"></a><span class="w">    </span><span class="k">if</span><span class="p">((</span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">2</span><span class="p">]).</span><span class="n">none</span><span class="p">())</span>
</span><span id="__span-7-60"><a id="__codelineno-7-60" name="__codelineno-7-60" href="#__codelineno-7-60"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="n">tri</span><span class="p">};</span>
</span><span id="__span-7-61"><a id="__codelineno-7-61" name="__codelineno-7-61" href="#__codelineno-7-61"></a><span class="w">    </span><span class="k">if</span><span class="p">((</span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">2</span><span class="p">]).</span><span class="n">any</span><span class="p">())</span>
</span><span id="__span-7-62"><a id="__codelineno-7-62" name="__codelineno-7-62" href="#__codelineno-7-62"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{};</span>
</span><span id="__span-7-63"><a id="__codelineno-7-63" name="__codelineno-7-63" href="#__codelineno-7-63"></a>
</span><span id="__span-7-64"><a id="__codelineno-7-64" name="__codelineno-7-64" href="#__codelineno-7-64"></a><span class="w">    </span><span class="c1">// æ£€æŸ¥ä¸‰è§’å½¢æ˜¯å¦ä¸è¿‘è£å‰ªå¹³é¢ç›¸äº¤</span>
</span><span id="__span-7-65"><a id="__codelineno-7-65" name="__codelineno-7-65" href="#__codelineno-7-65"></a><span class="w">    </span><span class="k">if</span><span class="p">(((</span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">((</span><span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">2</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">((</span><span class="n">code</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="__span-7-66"><a id="__codelineno-7-66" name="__codelineno-7-66" href="#__codelineno-7-66"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-67"><a id="__codelineno-7-67" name="__codelineno-7-67" href="#__codelineno-7-67"></a><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Vertex</span><span class="o">&gt;</span><span class="w"> </span><span class="n">res</span><span class="p">;</span>
</span><span id="__span-7-68"><a id="__codelineno-7-68" name="__codelineno-7-68" href="#__codelineno-7-68"></a><span class="w">        </span><span class="c1">// éå†ä¸‰ä¸ªè¾¹,å¯¹ä¸è¿‘è£å‰ªå¹³é¢ç›¸äº¤çš„è¾¹è¿›è¡Œè£å‰ª</span>
</span><span id="__span-7-69"><a id="__codelineno-7-69" name="__codelineno-7-69" href="#__codelineno-7-69"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-7-70"><a id="__codelineno-7-70" name="__codelineno-7-70" href="#__codelineno-7-70"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-7-71"><a id="__codelineno-7-71" name="__codelineno-7-71" href="#__codelineno-7-71"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-7-72"><a id="__codelineno-7-72" name="__codelineno-7-72" href="#__codelineno-7-72"></a>
</span><span id="__span-7-73"><a id="__codelineno-7-73" name="__codelineno-7-73" href="#__codelineno-7-73"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">code</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">code</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="w">      </span><span class="c1">// è¾¹å®Œå…¨åœ¨å†…éƒ¨</span>
</span><span id="__span-7-74"><a id="__codelineno-7-74" name="__codelineno-7-74" href="#__codelineno-7-74"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-7-75"><a id="__codelineno-7-75" name="__codelineno-7-75" href="#__codelineno-7-75"></a><span class="w">                </span><span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
</span><span id="__span-7-76"><a id="__codelineno-7-76" name="__codelineno-7-76" href="#__codelineno-7-76"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-7-77"><a id="__codelineno-7-77" name="__codelineno-7-77" href="#__codelineno-7-77"></a><span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">code</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="w">  </span><span class="c1">// è¾¹ä¸è¿‘è£å‰ªå¹³é¢ç›¸äº¤</span>
</span><span id="__span-7-78"><a id="__codelineno-7-78" name="__codelineno-7-78" href="#__codelineno-7-78"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-7-79"><a id="__codelineno-7-79" name="__codelineno-7-79" href="#__codelineno-7-79"></a><span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">da</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculateDistance</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">clipSpacePos</span><span class="p">,</span><span class="w"> </span><span class="n">viewPlanes</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span><span id="__span-7-80"><a id="__codelineno-7-80" name="__codelineno-7-80" href="#__codelineno-7-80"></a><span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculateDistance</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">clipSpacePos</span><span class="p">,</span><span class="w"> </span><span class="n">viewPlanes</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span><span id="__span-7-81"><a id="__codelineno-7-81" name="__codelineno-7-81" href="#__codelineno-7-81"></a><span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">da</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">da</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">db</span><span class="p">);</span>
</span><span id="__span-7-82"><a id="__codelineno-7-82" name="__codelineno-7-82" href="#__codelineno-7-82"></a><span class="w">                </span><span class="n">Vertex</span><span class="w"> </span><span class="n">np</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculateInterpolation</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="n">k</span><span class="p">],</span><span class="w"> </span><span class="n">alpha</span><span class="p">);</span>
</span><span id="__span-7-83"><a id="__codelineno-7-83" name="__codelineno-7-83" href="#__codelineno-7-83"></a><span class="w">                </span><span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">np</span><span class="p">);</span>
</span><span id="__span-7-84"><a id="__codelineno-7-84" name="__codelineno-7-84" href="#__codelineno-7-84"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-7-85"><a id="__codelineno-7-85" name="__codelineno-7-85" href="#__codelineno-7-85"></a><span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">code</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">code</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="w">  </span><span class="c1">// è¾¹ä¸è¿‘è£å‰ªå¹³é¢ç›¸äº¤</span>
</span><span id="__span-7-86"><a id="__codelineno-7-86" name="__codelineno-7-86" href="#__codelineno-7-86"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-7-87"><a id="__codelineno-7-87" name="__codelineno-7-87" href="#__codelineno-7-87"></a><span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">da</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculateDistance</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">clipSpacePos</span><span class="p">,</span><span class="w"> </span><span class="n">viewPlanes</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span><span id="__span-7-88"><a id="__codelineno-7-88" name="__codelineno-7-88" href="#__codelineno-7-88"></a><span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculateDistance</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">clipSpacePos</span><span class="p">,</span><span class="w"> </span><span class="n">viewPlanes</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span><span id="__span-7-89"><a id="__codelineno-7-89" name="__codelineno-7-89" href="#__codelineno-7-89"></a><span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">da</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">da</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">db</span><span class="p">);</span>
</span><span id="__span-7-90"><a id="__codelineno-7-90" name="__codelineno-7-90" href="#__codelineno-7-90"></a><span class="w">                </span><span class="n">Vertex</span><span class="w"> </span><span class="n">np</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculateInterpolation</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">tri</span><span class="p">[</span><span class="n">k</span><span class="p">],</span><span class="w"> </span><span class="n">alpha</span><span class="p">);</span>
</span><span id="__span-7-91"><a id="__codelineno-7-91" name="__codelineno-7-91" href="#__codelineno-7-91"></a><span class="w">                </span><span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">np</span><span class="p">);</span>
</span><span id="__span-7-92"><a id="__codelineno-7-92" name="__codelineno-7-92" href="#__codelineno-7-92"></a><span class="w">                </span><span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">tri</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
</span><span id="__span-7-93"><a id="__codelineno-7-93" name="__codelineno-7-93" href="#__codelineno-7-93"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-7-94"><a id="__codelineno-7-94" name="__codelineno-7-94" href="#__codelineno-7-94"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-7-95"><a id="__codelineno-7-95" name="__codelineno-7-95" href="#__codelineno-7-95"></a><span class="w">        </span><span class="c1">// è¿”å›è£å‰ªåçš„ä¸‰è§’å½¢</span>
</span><span id="__span-7-96"><a id="__codelineno-7-96" name="__codelineno-7-96" href="#__codelineno-7-96"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ConstructTriangle</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
</span><span id="__span-7-97"><a id="__codelineno-7-97" name="__codelineno-7-97" href="#__codelineno-7-97"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-98"><a id="__codelineno-7-98" name="__codelineno-7-98" href="#__codelineno-7-98"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Triangle</span><span class="o">&gt;</span><span class="p">{</span><span class="n">tri</span><span class="p">};</span>
</span><span id="__span-7-99"><a id="__codelineno-7-99" name="__codelineno-7-99" href="#__codelineno-7-99"></a><span class="p">}</span>
</span></code></pre></div>
<blockquote>
<p>Cohen-Sutherlandç®—æ³•å’ŒSutherland-Hodgmanç®—æ³•éƒ½æ˜¯å¸¸è§çš„çº¿æ®µè£å‰ªç®—æ³•ï¼Œç”¨äºå¯¹çº¿æ®µæˆ–å¤šè¾¹å½¢è¿›è¡Œè£å‰ªæ“ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­åº”ç”¨å¹¿æ³›ã€‚å®ƒä»¬åŸºäºä¸åŒçš„æ€æƒ³å’Œå¤„ç†æ–¹å¼ï¼Œåˆ†åˆ«é€‚ç”¨äºçº¿æ®µå’Œå¤šè¾¹å½¢çš„è£å‰ªï¼Œå¯ä»¥æœ‰æ•ˆåœ°æé«˜æ¸²æŸ“æ•ˆç‡å’Œå›¾å½¢æ˜¾ç¤ºæ•ˆæœã€‚</p>
<h3 id="cohen-sutherland">Cohen-Sutherlandç®—æ³•ï¼ˆçº¿æ®µè£å‰ªï¼‰</h3>
<ol>
<li><strong>æ€æƒ³</strong>ï¼š</li>
<li>Cohen-Sutherlandç®—æ³•é‡‡ç”¨çº¿æ®µä¸è§†å£è¾¹ç•Œçš„è£å‰ªç æ¯”è¾ƒçš„æ€æƒ³ï¼Œå°†è§†å£åˆ’åˆ†ä¸º9ä¸ªåŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸå¯¹åº”ä¸€ä¸ªè£å‰ªç ï¼Œè¡¨ç¤ºçº¿æ®µç›¸å¯¹äºè§†å£è¾¹ç•Œçš„ä½ç½®å…³ç³»ã€‚</li>
<li>
<p>é€šè¿‡æ¯”è¾ƒçº¿æ®µä¸¤ç«¯ç‚¹çš„è£å‰ªç ï¼Œå¯ä»¥ç¡®å®šçº¿æ®µä¸è§†å£è¾¹ç•Œçš„ç›¸äº¤æƒ…å†µï¼Œå¹¶è¿›è¡Œè£å‰ªæ“ä½œã€‚</p>
</li>
<li>
<p><strong>æ­¥éª¤</strong>ï¼š</p>
</li>
<li>è®¡ç®—çº¿æ®µä¸¤ç«¯ç‚¹çš„è£å‰ªç ï¼Œå¹¶è¿›è¡Œä½è¿ç®—æ¯”è¾ƒã€‚</li>
<li>æ ¹æ®è£å‰ªç çš„ç»„åˆæƒ…å†µï¼Œç¡®å®šçº¿æ®µä¸è§†å£è¾¹ç•Œçš„ä½ç½®å…³ç³»ï¼Œè¿›è¡Œè£å‰ªå¤„ç†ã€‚</li>
<li>å¦‚æœçº¿æ®µå®Œå…¨åœ¨è§†å£å†…ï¼Œåˆ™ä¿ç•™çº¿æ®µï¼›å¦‚æœçº¿æ®µå®Œå…¨åœ¨è§†å£å¤–ï¼Œåˆ™èˆå¼ƒï¼›å¦‚æœçº¿æ®µéƒ¨åˆ†åœ¨è§†å£å†…éƒ¨ï¼Œåˆ™å¯¹çº¿æ®µè¿›è¡Œè£å‰ªã€‚</li>
</ol>
<h3 id="sutherland-hodgman">Sutherland-Hodgmanç®—æ³•ï¼ˆå¤šè¾¹å½¢è£å‰ªï¼‰</h3>
<ol>
<li>
<p><strong>æ€æƒ³</strong>ï¼š</p>
</li>
<li>
<p>Sutherland-Hodgmanç®—æ³•ä¸»è¦ç”¨äºå¯¹å¤šè¾¹å½¢è¿›è¡Œè£å‰ªæ“ä½œï¼Œå®ƒé‡‡ç”¨å¤šè¾¹å½¢é¡¶ç‚¹çš„ä½ç½®å…³ç³»å’Œè£å‰ªè¾¹çš„ä½ç½®å…³ç³»æ¥ç¡®å®šè£å‰ªç»“æœã€‚</p>
</li>
<li>
<p>ç®—æ³•åŸºäºé€é¡¶ç‚¹çš„è¿­ä»£å¤„ç†ï¼Œé€šè¿‡å¯¹å¤šè¾¹å½¢çš„æ¯ä¸ªé¡¶ç‚¹è¿›è¡Œè£å‰ªï¼Œé€æ­¥å¾—åˆ°è£å‰ªåçš„å¤šè¾¹å½¢ã€‚</p>
</li>
<li>
<p><strong>æ­¥éª¤</strong>ï¼š</p>
</li>
<li>å¯¹å¤šè¾¹å½¢çš„æ¯æ¡è¾¹è¿›è¡Œæ£€æŸ¥ï¼Œåˆ¤æ–­è¾¹æ˜¯å¦ä¸è£å‰ªè¾¹ç•Œç›¸äº¤ã€‚</li>
<li>å¦‚æœè¾¹å®Œå…¨åœ¨è£å‰ªè¾¹ç•Œå†…ï¼Œåˆ™ä¿ç•™æ•´æ¡è¾¹ã€‚</li>
<li>å¦‚æœè¾¹ä¸è£å‰ªè¾¹ç•Œç›¸äº¤ï¼Œåˆ™è®¡ç®—äº¤ç‚¹ï¼Œå°†äº¤ç‚¹æ·»åŠ åˆ°è£å‰ªåçš„å¤šè¾¹å½¢é¡¶ç‚¹åˆ—è¡¨ä¸­ã€‚</li>
<li>æœ€åæ ¹æ®è£å‰ªåçš„é¡¶ç‚¹åˆ—è¡¨é‡æ–°æ„å»ºè£å‰ªåçš„å¤šè¾¹å½¢ã€‚</li>
</ol>
<p>é½æ¬¡ç©ºé—´è£å‰ªæ˜¯å¯¹ä¸‰ç»´ç©ºé—´ä¸­çš„ç‰©ä½“è¿›è¡Œè£å‰ªçš„ä¸€ç§æ–¹æ³•ï¼Œä¸ä¼ ç»Ÿçš„Cohen-Sutherlandç®—æ³•(ä¸»è¦ç”¨äºäºŒç»´ç›´çº¿è£å‰ª)æœ‰æ‰€ä¸åŒ</p>
<p><a href="https://blog.csdn.net/m0_56494923/article/details/128512626">Sutherlandâ€“Hodgman ç®—æ³•ä»‹ç»(ç®€å•æ˜“æ‡‚)_sutherland-hodgman-CSDNåšå®¢</a></p>
<p><a href="https://www.geeksforgeeks.org/polygon-clipping-sutherland-hodgman-algorithm/">Polygon Clipping | Sutherlandâ€“Hodgman Algorithm - GeeksforGeeks</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/418043558">2D æ¸¸æˆç‰©ç†å¼•æ“ - å¤šè¾¹å½¢çš„è£å‰ªä¸å †å  - çŸ¥ä¹ (zhihu.com)</a></p>
</blockquote>
<h2 id="_4">å°è¯•ä½¿ç”¨å¤šçº¿ç¨‹ä¼˜åŒ–</h2>
<h3 id="_5">ä¸å¼€å¤šçº¿ç¨‹æ—¶</h3>
<p>æˆ‘çš„ç”µè„‘cpuè§„æ ¼: <a href="https://www.techpowerup.com/gpu-specs/geforce-gtx-1650-ti-mobile.c3512">NVIDIA GeForce GTX 1650 Ti Mobile Specs | TechPowerUp GPU Database</a></p>
<p>(é¡¶ç‚¹)</p>
<p><img alt="image-20240505115709642" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405051614508.png" tag="3" /></p>
<p>(é¡¶ç‚¹ä¸‰è§’å½¢)</p>
<p><img alt="image-20240505114010140" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405051614509.png" tag="3" /></p>
<p>(æ¸²æŸ“)</p>
<p><img alt="image-20240505115819096" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405051614510.png" tag="3" /></p>
<h3 id="tbb-openglmp-c11">ğŸ†šå¯¹æ¯”:TBB, openglMP, c++11åŸç”Ÿå¤šçº¿ç¨‹</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Library</th>
<th style="text-align: left;">Provider</th>
<th style="text-align: left;">Implementation Approach</th>
<th style="text-align: left;">Affinity</th>
<th style="text-align: left;">Affinity Setup Method</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>OpenMP 4.0</strong></td>
<td style="text-align: left;">Intel</td>
<td style="text-align: left;">parallel for pragma with reduction clause</td>
<td style="text-align: left;">threads pinned to cores</td>
<td style="text-align: left;">KMP_AFFINITY environment variable</td>
</tr>
<tr>
<td style="text-align: left;"><strong>TBB 4.4</strong></td>
<td style="text-align: left;">Intel</td>
<td style="text-align: left;">parallel_reduce functor</td>
<td style="text-align: left;">threads pinned to cores</td>
<td style="text-align: left;">affinity_partitioner and custom task_scheduler_observer</td>
</tr>
<tr>
<td style="text-align: left;"><strong>C++11 Threads</strong></td>
<td style="text-align: left;">GNU (libstdc++, GCC 4.8)</td>
<td style="text-align: left;">thread pool with task queue, return via future</td>
<td style="text-align: left;">threads pinned to cores</td>
<td style="text-align: left;">pthreads API</td>
</tr>
</tbody>
</table>
<blockquote>
<p><a href="https://www.xcelerit.com/computing-benchmarks/software/multi-threading/">Benchmarks: Threading - OpenMP vs TBB vs C++11 | Xcelerit</a></p>
<p><a href="https://www.cnblogs.com/carsonzhu/p/17131175.html">C++å¹¶è¡Œç¼–ç¨‹æ¢è®¨åˆ†æï¼ˆOpenMP &amp; TBB &amp; Thread Poolï¼‰ - å°é‡‘ä¹Œä¼šå‘å…‰ï¼Z&amp;M - åšå®¢å›­ (cnblogs.com)</a></p>
</blockquote>
<h4 id="onetbbqt">oneTBB(å°šæœªè§£å†³ä¸QTå‘ç”Ÿçš„å†²çª)</h4>
<p><code>CMakeLists.txt</code></p>
<div class="language-cmake highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nb">set</span><span class="p">(</span><span class="s">TBB_DIR</span><span class="w"> </span><span class="s">./packages/oneapi-tbb-2021.1.1/lib/cmake/tbb</span><span class="p">)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="nb">find_package</span><span class="p">(</span><span class="s">TBB</span><span class="w"> </span><span class="s">CONFIG</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">TRenderer</span><span class="w"> </span><span class="s">PUBLIC</span><span class="w"> </span><span class="s">TBB::tbb</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tbb/parallel_for.h&gt;</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tbb/parallel_for_each.h&gt;</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tbb/blocked_range2d.h&gt;</span>
</span></code></pre></div>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="w">        </span><span class="n">tbb</span><span class="o">::</span><span class="n">parallel_for</span><span class="p">(</span><span class="n">tbb</span><span class="o">::</span><span class="n">blocked_range</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">triangleList</span><span class="p">.</span><span class="n">size</span><span class="p">()),</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">        </span><span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="n">tbb</span><span class="o">::</span><span class="n">blocked_range</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">r</span><span class="p">)</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">end</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">                </span><span class="n">ProcessTriangle</span><span class="p">(</span><span class="n">triangleList</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">        </span><span class="p">});</span>
</span></code></pre></div>
<p><img alt="image-20240505100543032" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405051614511.png" tag="3" /></p>
<p><a href="https://github.com/oneapi-src/oneTBB/issues/547">profiling.h conflicts with Qt Â· Issue #547 Â· oneapi-src/oneTBB (github.com)</a></p>
<h4 id="c11-thread">C++11 çš„threadåº“</h4>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;thread&gt;</span>
</span></code></pre></div>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kr">thread</span><span class="o">&gt;</span><span class="w"> </span><span class="n">threads</span><span class="p">;</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">triangleList</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="n">threads</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">([</span><span class="o">&amp;</span><span class="p">](</span><span class="kt">size_t</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">        </span><span class="n">ProcessTriangle</span><span class="p">(</span><span class="n">triangleList</span><span class="p">[</span><span class="n">idx</span><span class="p">]);</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="p">}</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="kr">thread</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">threads</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">    </span><span class="kr">thread</span><span class="p">.</span><span class="n">join</span><span class="p">();</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="p">}</span>
</span></code></pre></div>
<p><img alt="image-20240505112623679" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405051614513.png" tag="3" /></p>
<p>å¸§ç‡æ›´ä½äº†...</p>
<p>åº”è¯¥æ˜¯çº¿ç¨‹å¼€çš„å¤ªå¤š</p>
<p>æ¢æˆ16çº¿ç¨‹</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kr">thread</span><span class="o">&gt;</span><span class="w"> </span><span class="n">threads</span><span class="p">;</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="kt">size_t</span><span class="w"> </span><span class="n">numThreads</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span><span class="w"> </span><span class="c1">// è¦å¼€å¯çš„çº¿ç¨‹æ•°é‡</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="c1">// è®¡ç®—æ¯ä¸ªçº¿ç¨‹å¤„ç†çš„å…ƒç´ æ•°é‡</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="kt">size_t</span><span class="w"> </span><span class="n">elementsPerThread</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">triangleList</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">numThreads</span><span class="p">;</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="kt">size_t</span><span class="w"> </span><span class="n">remainder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">triangleList</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">numThreads</span><span class="p">;</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="c1">// åˆ›å»ºçº¿ç¨‹</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="kt">size_t</span><span class="w"> </span><span class="n">startIdx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numThreads</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">threadElements</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">elementsPerThread</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">remainder</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">    </span><span class="n">threads</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">([</span><span class="o">&amp;</span><span class="p">](</span><span class="kt">size_t</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">end</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">start</span><span class="p">;</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">end</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="w">            </span><span class="n">ProcessTriangle</span><span class="p">(</span><span class="n">triangleList</span><span class="p">[</span><span class="n">idx</span><span class="p">]);</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="n">startIdx</span><span class="p">,</span><span class="w"> </span><span class="n">startIdx</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">threadElements</span><span class="p">);</span>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="w">    </span><span class="n">startIdx</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">threadElements</span><span class="p">;</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="p">}</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="c1">// ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="kr">thread</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">threads</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="w">    </span><span class="kr">thread</span><span class="p">.</span><span class="n">join</span><span class="p">();</span>
</span><span id="__span-13-23"><a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="p">}</span>
</span></code></pre></div>
<blockquote>
<p>ä½¿ç”¨å</p>
<p><img alt="image-20240505115939399" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405051614514.png" tag="3" /></p>
<p><img alt="image-20240505120025028" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405051614515.png" tag="3" /></p>
<p><img alt="image-20240505120203100" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405051614516.png" tag="3" /></p>
</blockquote>
<p>æˆ‘åˆæµ‹è¯•äº†ä¸€ä¸‹å¼€12çº¿ç¨‹(æˆ‘çš„CPUæœ‰12æ ¸),å‘ç°CPUå ç”¨</p>
<h4 id="openmp">OpenMP</h4>
<p>OpenMP åœ¨å¤§å¤šæ•°å¹³å°ä¸Šéƒ½æœ‰è‰¯å¥½çš„æ”¯æŒï¼Œè€Œ std::thread åˆ™ä¾èµ–äº C++11 æ ‡å‡†åº“å’Œç¼–è¯‘å™¨çš„å®ç°ï¼Œéœ€è¦ç¡®ä¿å¹³å°å’Œç¼–è¯‘å™¨çš„å…¼å®¹æ€§</p>
<p><code>CMakeLists.txt</code></p>
<div class="language-cmake highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nb">find_package</span><span class="p">(</span><span class="s">OpenMP</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">TRenderer</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">OpenMP::OpenMP_CXX</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;omp.h&gt;</span>
</span></code></pre></div>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="w">        </span><span class="cp">#pragma omp parallel for</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">triangleList</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">){</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">            </span><span class="n">ProcessTriangle</span><span class="p">(</span><span class="n">triangleList</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">        </span><span class="p">}</span>
</span></code></pre></div>
<p>ç›®å‰å’Œthreadè¾¾åˆ°çš„æ•ˆæœåŒºåˆ«ä¸å¤§, <code>æœ‰å¾…æµ‹è¯•</code></p>
<h2 id="_6">å›¾å½¢å­¦çŸ¥è¯†ç‚¹å›é¡¾</h2>
<h3 id="_7">æ¸²æŸ“ç®¡çº¿</h3>
<p><img alt="image-20240425094544277" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723843.png" tag="3" /></p>
<p><img alt="image-20240425094723427" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723828.png" tag="3" /></p>
<p><img alt="image-20240425094756335" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723345.png" tag="3" /></p>
<p><img alt="image-20240425094810138" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723446.png" tag="3" /></p>
<p><img alt="image-20240425094844397" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723790.png" tag="3" /></p>
<p><img alt="image-20240425094856855" class="img-fluid" src="https://cdn.jsdelivr.net/gh/knight02-bit/BlogPicture/typoraPic/202405041723552.png" tag="3" /></p>
<h2 id="cpp">cpp</h2>
<h3 id="mesh-default">Mesh() = default;æœ‰ä»€ä¹ˆä½œç”¨</h3>
<p>åœ¨C++ä¸­ï¼Œ<code>Mesh() = default;</code>æ˜¯ä¸€ä¸ªä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°çš„å£°æ˜ã€‚å½“æ‚¨ä½¿ç”¨<code>Mesh()</code>è¿™ç§å½¢å¼å£°æ˜æ„é€ å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ï¼Œè¯¥æ„é€ å‡½æ•°ä¼šå¯¹ç±»çš„æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼å£°æ˜æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä¸ºç±»ç”Ÿæˆä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ï¼Œè¿™ä¸ªé»˜è®¤æ„é€ å‡½æ•°ä¼šå¯¹ç±»çš„åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œé›¶åˆå§‹åŒ–ï¼ˆä¾‹å¦‚ï¼Œæ•´å‹æ•°æ®ä¼šåˆå§‹åŒ–ä¸º0ï¼Œæµ®ç‚¹å‹æ•°æ®ä¼šåˆå§‹åŒ–ä¸º0.0ï¼‰ã€‚</p>
<p>ä½¿ç”¨<code>Mesh() = default;</code>çš„å£°æ˜æ–¹å¼ï¼Œæ‚¨åœ¨æŸç§ç¨‹åº¦ä¸Šå‘Šè¯‰ç¼–è¯‘å™¨ï¼šä½¿ç”¨é»˜è®¤çš„æ„é€ å‡½æ•°ï¼Œè€Œä¸éœ€è¦æ‚¨è‡ªå·±æ‰‹åŠ¨å®ç°æ„é€ å‡½æ•°ã€‚è¿™æ ·å¯ä»¥ç®€åŒ–ä»£ç ï¼Œå°¤å…¶æ˜¯å¯¹äºæ²¡æœ‰ç‰¹æ®Šæ„é€ é€»è¾‘çš„ç±»ã€‚</p>
<h2 id="some-tips">some tips</h2>
<h3 id="vector4d-vectori4d"><code>Vector4D</code> å’Œ <code>VectorI4D</code></h3>
<p><code>Vector4D</code> å’Œ <code>VectorI4D</code> éƒ½è¡¨ç¤ºå››ç»´å‘é‡ï¼Œä½†å®ƒä»¬çš„æ•°æ®ç±»å‹æœ‰æ‰€ä¸åŒï¼š</p>
<ol>
<li><strong>Vector4D</strong>ï¼š</li>
<li><code>Vector4D</code> é€šå¸¸æŒ‡çš„æ˜¯å››ç»´æµ®ç‚¹æ•°å‘é‡ï¼Œå³å››ä¸ªæµ®ç‚¹æ•°ç»„æˆçš„å‘é‡ã€‚åœ¨å›¾å½¢å­¦å’Œè®¡ç®—æœºå›¾å½¢é¢†åŸŸä¸­ï¼Œå¸¸ç”¨çš„è¡¨ç¤ºæ–¹æ³•æ˜¯ä½¿ç”¨æµ®ç‚¹æ•°è¡¨ç¤ºå‘é‡çš„åæ ‡åˆ†é‡ã€‚</li>
<li>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ª <code>Vector4D</code> å¯ä»¥è¡¨ç¤ºä¸º <code>(x, y, z, w)</code>ï¼Œå…¶ä¸­ <code>x</code>, <code>y</code>, <code>z</code> æ˜¯æµ®ç‚¹æ•°åæ ‡ï¼Œ<code>w</code> é€šå¸¸ç”¨äºè¡¨ç¤ºé½æ¬¡åæ ‡ä¸­çš„ç¼©æ”¾å› å­ã€‚</p>
</li>
<li>
<p><strong>VectorI4D</strong>ï¼š</p>
</li>
<li><code>VectorI4D</code> åˆ™è¡¨ç¤ºå››ç»´æ•´æ•°å‘é‡ï¼Œå³å››ä¸ªæ•´æ•°ç»„æˆçš„å‘é‡ã€‚åœ¨æŸäº›éœ€è¦ä½¿ç”¨æ•´æ•°è¡¨ç¤ºåæ ‡æˆ–å…¶ä»–æ•°æ®çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨æ•´æ•°å‘é‡ã€‚</li>
<li>ä¾‹å¦‚ï¼Œä¸€ä¸ª <code>VectorI4D</code> å¯ä»¥è¡¨ç¤ºä¸º <code>(x, y, z, w)</code>ï¼Œå…¶ä¸­ <code>x</code>, <code>y</code>, <code>z</code> æ˜¯æ•´æ•°åæ ‡ï¼Œ<code>w</code> å¯ä»¥ç”¨äºå…¶ä»–æ•´æ•°æ•°æ®ã€‚</li>
</ol>
<p><code>Vector4D</code> å’Œ <code>VectorI4D</code> åœ¨è¡¨ç¤ºçš„æ•°æ®ç±»å‹ä¸Šæœ‰æ‰€ä¸åŒï¼Œä¸€ä¸ªæ˜¯æµ®ç‚¹æ•°å‘é‡ï¼Œå¦ä¸€ä¸ªæ˜¯æ•´æ•°å‘é‡ï¼Œé€‚ç”¨äºä¸åŒçš„æ•°æ®å¤„ç†åœºæ™¯ã€‚</p>
<h3 id="w">ç¼©æ”¾å› å­w</h3>
<p>ç¼©æ”¾å› å­å¯ä»¥åœ¨å¤šä¸ªåœºåˆä¸‹ä½¿ç”¨ï¼Œå¦‚å‡ ä½•å˜æ¢ã€é€è§†æŠ•å½±ã€é½æ¬¡åæ ‡å¤„ç†ä»¥åŠå…‰ç…§è®¡ç®—ç­‰æ–¹é¢ï¼Œç”¨æ¥è°ƒæ•´ç‰©ä½“çš„å¤§å°ã€æ·±åº¦ã€æƒé‡æˆ–è€…å…¶ä»–å½±å“å› ç´ ã€‚</p>
<ol>
<li>
<p><strong>é½æ¬¡åæ ‡</strong>ï¼šåœ¨ä¸‰ç»´å›¾å½¢å­¦ä¸­ï¼Œé½æ¬¡åæ ‡æ˜¯ä¸€ç§æ‰©å±•çš„åæ ‡ç³»ç»Ÿï¼Œå…¶ä¸­æ¯ä¸ªç‚¹ç”±å››ä¸ªåæ ‡è¡¨ç¤ºï¼ˆx, y, z, wï¼‰ã€‚w æ˜¯é½æ¬¡åæ ‡çš„ç¼©æ”¾å› å­ï¼Œç”¨æ¥<code>è¡¨ç¤ºç‚¹çš„æƒé‡æˆ–æ·±åº¦ä¿¡æ¯</code>ã€‚é€šè¿‡é½æ¬¡åæ ‡ï¼Œ<code>å¯ä»¥ç®€åŒ–å¯¹åæ ‡å˜æ¢çš„å¤„ç†</code>ï¼Œä¾‹å¦‚å¹³ç§»ã€æ—‹è½¬å’Œç¼©æ”¾ã€‚</p>
</li>
<li>
<p><strong>é€è§†æŠ•å½±</strong>ï¼šè¿›è¡Œé€è§†æŠ•å½±æ—¶ï¼Œç¼©æ”¾å› å­å¯ä»¥ç”¨æ¥<code>æ§åˆ¶è¿œè¿‘å¹³é¢çš„æ‹‰ä¼¸æ•ˆæœ</code>ã€‚åœ¨é€è§†æŠ•å½±ä¸­ï¼Œè·ç¦»æ‘„åƒæœºè¿œçš„ç‰©ä½“ä¼šè¢«æ‹‰ä¼¸ï¼Œè€Œç¼©æ”¾å› å­å¯ä»¥å½±å“è¿™ç§æ‹‰ä¼¸çš„ç¨‹åº¦ã€‚</p>
</li>
<li>
<p><strong>å‡ ä½•å˜æ¢</strong>ï¼šåœ¨è¿›è¡Œå‡ ä½•å˜æ¢ï¼ˆä¾‹å¦‚ç¼©æ”¾ã€æ—‹è½¬ã€å¹³ç§»ï¼‰æ—¶ï¼Œç¼©æ”¾å› å­å¯ä»¥ç”¨æ¥<code>æ§åˆ¶ç‰©ä½“çš„å¤§å°å˜åŒ–</code>ã€‚é€šè¿‡è°ƒæ•´ç¼©æ”¾å› å­ï¼Œå¯ä»¥å®ç°ç‰©ä½“çš„æ”¾å¤§æˆ–ç¼©å°æ•ˆæœã€‚</p>
</li>
<li>
<p><strong>å…‰ç…§è®¡ç®—</strong>ï¼šåœ¨å…‰ç…§è®¡ç®—ä¸­ï¼Œç¼©æ”¾å› å­å¯ä»¥<code>å½±å“å…‰ç…§æ•ˆæœçš„å¼ºåº¦</code>ã€‚ä¾‹å¦‚ï¼Œåœ¨ Phong å…‰ç…§æ¨¡å‹ä¸­ï¼Œå…‰ç…§å¼ºåº¦ä¸æ³•å‘é‡å’Œå…‰çº¿æ–¹å‘çš„å¤¹è§’ä»¥åŠç¼©æ”¾å› å­ç­‰å› ç´ ç›¸å…³ã€‚</p>
</li>
</ol>
<h3 id="pitchyaw">ä¿¯ä»°è§’ï¼ˆpitchï¼‰å’Œåèˆªè§’ï¼ˆyawï¼‰</h3>
<ul>
<li><strong>ä¿¯ä»°è§’ï¼ˆPitchï¼‰</strong>ï¼šä¿¯ä»°è§’æ˜¯æŒ‡ç›¸å¯¹äºå‚è€ƒå¹³é¢ï¼ˆé€šå¸¸æ˜¯æ°´å¹³é¢ï¼‰çš„ä¸Šä¸‹æ—‹è½¬è§’åº¦ã€‚å½“ä¿¯ä»°è§’ä¸ºæ­£æ—¶ï¼Œç‰©ä½“æˆ–ç›¸æœºå‘ä¸Šæ—‹è½¬ï¼›å½“ä¿¯ä»°è§’ä¸ºè´Ÿæ—¶ï¼Œç‰©ä½“æˆ–ç›¸æœºå‘ä¸‹æ—‹è½¬ã€‚åœ¨å›¾å½¢å­¦ä¸­ï¼Œä¿¯ä»°è§’å¸¸ç”¨æ¥è°ƒæ•´ç›¸æœºçš„ä»°è§’ï¼Œä»è€Œæ”¹å˜è§‚å¯Ÿè€…çš„è§†è§’ã€‚</li>
<li><strong>åèˆªè§’ï¼ˆYawï¼‰</strong>ï¼šåèˆªè§’æ˜¯æŒ‡ç›¸å¯¹äºå‚è€ƒæ–¹å‘ï¼ˆé€šå¸¸æ˜¯æ°´å¹³æ–¹å‘ï¼‰çš„å·¦å³æ—‹è½¬è§’åº¦ã€‚å½“åèˆªè§’ä¸ºæ­£æ—¶ï¼Œç‰©ä½“æˆ–ç›¸æœºå‘å·¦æ—‹è½¬ï¼›å½“åèˆªè§’ä¸ºè´Ÿæ—¶ï¼Œç‰©ä½“æˆ–ç›¸æœºå‘å³æ—‹è½¬ã€‚åœ¨å›¾å½¢å­¦ä¸­ï¼Œåèˆªè§’å¸¸ç”¨æ¥è°ƒæ•´ç›¸æœºçš„æ°´å¹³æ—‹è½¬è§’åº¦ï¼Œä»è€Œæ”¹å˜è§‚å¯Ÿè€…çš„æ°´å¹³æ–¹å‘ã€‚</li>
</ul>
<h2 id="debug">DEBUG(â›”:æœªè§£å†³ / ğŸŒˆ:å·²è§£å†³)</h2>
<h3 id="error-cmakefilestrendererdevicecppobj-in-function-shadershader">ğŸŒˆ[error]: CMakeFiles/.../TRendererDevice.cpp.obj: in function `Shader::~Shader()':</h3>
<p>error: CMakeFiles/TRenderer.dir/TRendererCore/TRendererDevice.cpp.obj: in function `Shader::~Shader()':</p>
<p>K:\code\QTProject\TRenderer\TRendererCore\Shader.hpp:13: error: undefined reference to `__imp__ZTV6Shader'</p>
<p>å£°æ˜äº†ä¸€ä¸ªææ„å‡½æ•° <code>~Shader()</code>, ä½†æ˜¯æ²¡æœ‰æä¾›å¯¹åº”çš„å®šä¹‰</p>
<p>éœ€è¦åœ¨å®ç°æ–‡ä»¶ï¼ˆ Shader.cppï¼‰ä¸­æä¾›å¯¹ææ„å‡½æ•° <code>~Shader()</code> çš„å®šä¹‰ã€‚ä¾‹å¦‚ï¼š</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">Shader</span><span class="o">::~</span><span class="n">Shader</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span><span class="c1">// å¯¹è±¡é”€æ¯æ—¶éœ€è¦æ‰§è¡Œçš„ä»£ç </span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="p">}</span>
</span></code></pre></div>
<p>è€Œæœ¬é¡¹ç›®ä¸­Shader ç±»æ˜¯ä¸€ä¸ªçº¯è™šåŸºç±», åˆ™éœ€è¦ä¸ºææ„å‡½æ•°æä¾›ä¸€ä¸ªçº¯è™šå‡½æ•°å®šä¹‰ã€‚</p>
<p>å°†ææ„å‡½æ•°å®šä¹‰ä¸ºçº¯è™šå‡½æ•°ï¼š</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">Shader</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span></code></pre></div>
<p>ç„¶åå¯åœ¨æ´¾ç”Ÿç±»ä¸­å®ç°è¯¥çº¯è™šææ„å‡½æ•°ã€‚</p>
<h4 id="shader-trendererdevice">é™„:<code>Shader</code> ç±»åœ¨ <code>TRendererDevice</code> ç±»ä¸­çš„ä½œç”¨</h4>
<p><code>Shader</code> ç±»åœ¨ <code>TRendererDevice</code> ç±»ä¸­çš„ä½œç”¨æ˜¯å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡çš„ç€è‰²å™¨æ¥å£, </p>
<p>ä»è€Œå…è®¸ç”¨æˆ·æ ¹æ®éœ€è¦å®ç°ä¸åŒçš„ç€è‰²å™¨ç±»æ¥å®šåˆ¶æ¸²æŸ“æ•ˆæœã€‚</p>
<blockquote>
<p>åœ¨ <code>TRendererDevice.h</code> ä¸­, <code>Shader</code> ç±»èµ·åˆ°äº†å®šä¹‰ä¸€ä¸ªæŠ½è±¡åŸºç±»çš„ä½œç”¨ã€‚è¿™ä¸ªæŠ½è±¡åŸºç±»æ˜¯ä¸€ä¸ªçº¯è™šç±», å®ƒå®šä¹‰äº†ä¸€äº›è™šå‡½æ•° <code>VertexShader</code> å’Œ <code>FragmentShader</code>, è¿™äº›å‡½æ•°éœ€è¦æ´¾ç”Ÿç±»æ¥å®ç°ã€‚</p>
<p>è¿™æ ·åšçš„ç›®çš„æ˜¯<code>ä¸ºäº†å®ç°ç€è‰²å™¨çš„å¤šæ€æ€§</code>, å…è®¸ç”¨æˆ·æ ¹æ®éœ€è¦åˆ›å»ºä¸åŒçš„ç€è‰²å™¨ç±»(å¦‚é¡¶ç‚¹ç€è‰²å™¨ã€ç‰‡å…ƒç€è‰²å™¨)å¹¶å®ç°è¿™äº›è™šå‡½æ•°, ä»¥è¾¾åˆ°ä¸åŒçš„æ¸²æŸ“æ•ˆæœã€‚</p>
<p>å…·ä½“æ¥è¯´, <code>Shader</code> ç±»çš„å®šä¹‰åœ¨ <code>Shader.hpp</code> æ–‡ä»¶ä¸­, åŒ…å«äº†ä»¥ä¸‹æˆå‘˜å‡½æ•°å£°æ˜ï¼š</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">VertexShader</span><span class="p">(</span><span class="n">Vertex</span><span class="w"> </span><span class="o">&amp;</span><span class="n">vertex</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">FragmentShader</span><span class="p">(</span><span class="n">Fragment</span><span class="w"> </span><span class="o">&amp;</span><span class="n">fragment</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span></code></pre></div>
<p>åœ¨ <code>TRendererDevice</code> ç±»ä¸­, æœ‰ä¸€ä¸ªæŒ‡å‘ <code>Shader</code> ç±»æˆ–å…¶æ´¾ç”Ÿç±»å¯¹è±¡çš„æ™ºèƒ½æŒ‡é’ˆï¼š</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Shader</span><span class="o">&gt;</span><span class="w"> </span><span class="n">shader</span><span class="p">;</span>
</span></code></pre></div>
<p>é€šè¿‡è¿™ä¸ªæˆå‘˜å˜é‡, <code>TRendererDevice</code> ç±»å¯ä»¥åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ä½¿ç”¨ç”¨æˆ·æŒ‡å®šçš„ç€è‰²å™¨æ¥å¤„ç†é¡¶ç‚¹å’Œç‰‡å…ƒçš„ç€è‰²é€»è¾‘ã€‚</p>
<p>åœ¨ <code>TRendererDevice</code> ç±»çš„æ¸²æŸ“è¿‡ç¨‹ä¸­, å¯èƒ½ä¼šè°ƒç”¨ <code>Shader</code> ç±»ä¸­å®šä¹‰çš„è™šå‡½æ•°, ä¾‹å¦‚ä¸Šé¢çš„VertexShaderå’ŒFragmentShader</p>
<p>è¿™äº›å‡½æ•°ä¼šåœ¨æ´¾ç”Ÿç±»ä¸­è¢«å®ç°, ä»è€Œå®ç°å…·ä½“çš„é¡¶ç‚¹å’Œç‰‡å…ƒç€è‰²é€»è¾‘ã€‚</p>
</blockquote>
<h2 id="_8">æ–‡æ¡£,åšå®¢</h2>
<h3 id="qt">Qt</h3>
<p><a href="https://blog.csdn.net/qq_37468571/article/details/132294606">QtCreatorç±»ç»“æ„ç”Ÿæˆæ¨¡æ¿è¯´æ˜</a></p>
<h3 id="opengl">OpenGL</h3>
<p><a href="https://learnopengl.com/Model-Loading/Mesh">LearnOpenGL - Mesh</a></p>
<p><a href="https://learnopengl-cn.readthedocs.io/zh/latest/">LearnOpenGL - CN</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/465700130">oneTBBç³»åˆ—é“¾æ¥æ•´ç† - çŸ¥ä¹ (zhihu.com)</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/65495373">ä¸‰è§’å½¢é‡å¿ƒåæ ‡ - çŸ¥ä¹ (zhihu.com)</a></p>







  
  






  <h2 id="__comments">è¯„è®º</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
        data-repo="knight02-bit/knight02-bit.github.io"
        data-repo-id="R_kgDOK-LHQw"
        data-category="Announcements"
        data-category-id="DIC_kwDOK-LHQ84Ce9cv"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light_high_contrast"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  å›åˆ°é¡µé¢é¡¶éƒ¨
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["toc.integrate", "toc.follow", "navigation.tabs", "navigation.tabs.sticky", "navigation.path", "navigation.indexes", "navigation.top", "navigation.instant", "navigation.instant.progress", "navigation.tracking", "search.highlight", "search.suggest"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../../assets/js/jquery-3.2.1.min.js"></script>
      
        <script src="../../../assets/js/simpleLightbox.min.js"></script>
      
        <script src="../../../assets/js/custom.js"></script>
      
    
  </body>
</html>